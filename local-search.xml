<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>在rhel7.x上配置使用openfiler 2.99</title>
    <link href="/2021/05/06/%E5%9C%A8rhel7-x%E4%B8%8A%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8openfiler-2-99/"/>
    <url>/2021/05/06/%E5%9C%A8rhel7-x%E4%B8%8A%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8openfiler-2-99/</url>
    
    <content type="html"><![CDATA[<h1 id="在rhel7-x上配置使用openfiler-2-99"><a href="#在rhel7-x上配置使用openfiler-2-99" class="headerlink" title="在rhel7.x上配置使用openfiler 2.99"></a>在rhel7.x上配置使用openfiler 2.99</h1><blockquote><p>基于<strong>VMware Workstation 12.5</strong> + <strong>rhel-server-7.2-x86_64-dvd.iso</strong></p></blockquote><div class="hljs code-wrapper"><pre><code class="hljs SQL">网卡：host<span class="hljs-operator">-</span><span class="hljs-keyword">only</span> <span class="hljs-operator">/</span> NAT内存：<span class="hljs-number">2</span>G处理器：<span class="hljs-number">2</span>硬盘：<span class="hljs-number">25</span>G主机名：rhel7</code></pre></div><hr><h2 id="1-配置iSCSI-initiator"><a href="#1-配置iSCSI-initiator" class="headerlink" title="1 配置iSCSI initiator"></a>1 配置<strong>iSCSI initiator</strong></h2><h3 id="1-1-安装iSCSI-启动器软件包"><a href="#1-1-安装iSCSI-启动器软件包" class="headerlink" title="1.1 安装iSCSI 启动器软件包"></a>1.1 安装<strong>iSCSI 启动器软件包</strong></h3><div class="hljs code-wrapper"><pre><code class="hljs SQL"># 检查是否安装[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# rpm <span class="hljs-operator">-</span>qa<span class="hljs-operator">|</span>grep iscsi<span class="hljs-operator">*</span>iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-32.</span>el7.x86_64iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-operator">-</span>iscsiuio<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-32.</span>el7.x86_64libiscsi<span class="hljs-number">-1.9</span><span class="hljs-number">.0</span><span class="hljs-number">-6.</span>el7.x86_64[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]#</code></pre></div><p><strong>安装方法</strong></p><p>进入本地镜像的Packages目录下</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@rhel7</span> Packages]# ls iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-operator">*</span>iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-26.</span>el6.x86_64.rpm[root<span class="hljs-variable">@rhel7</span> Packages]# rpm <span class="hljs-operator">-</span>ivh iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-26.</span>el6.x86_64.rpm</code></pre></div><h3 id="1-2-修改iSCSI配置文件"><a href="#1-2-修改iSCSI配置文件" class="headerlink" title="1.2 修改iSCSI配置文件"></a>1.2 修改iSCSI配置文件</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>iscsi<span class="hljs-operator">/</span>iscsid.conf# <span class="hljs-keyword">To</span> manually startup the session <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> &quot;manual&quot;. The <span class="hljs-keyword">default</span> <span class="hljs-keyword">is</span> automatic.node.startup <span class="hljs-operator">=</span> automatic# <span class="hljs-keyword">For</span> &quot;automatic&quot; startup nodes, setting this <span class="hljs-keyword">to</span> &quot;Yes&quot; will try logins <span class="hljs-keyword">on</span> <span class="hljs-keyword">each</span># available iface until <span class="hljs-keyword">one</span> <span class="hljs-keyword">succeeds</span>, <span class="hljs-keyword">and</span> <span class="hljs-keyword">then</span> stop.  The <span class="hljs-keyword">default</span> &quot;No&quot; will try# logins <span class="hljs-keyword">on</span> <span class="hljs-keyword">all</span> availble ifaces simultaneously.node.leading_login <span class="hljs-operator">=</span> <span class="hljs-keyword">No</span># <span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span># CHAP Settings# <span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span># <span class="hljs-keyword">To</span> enable CHAP authentication <span class="hljs-keyword">set</span> node.session.auth.authmethod# <span class="hljs-keyword">to</span> CHAP. The <span class="hljs-keyword">default</span> <span class="hljs-keyword">is</span> None.node.session.auth.authmethod <span class="hljs-operator">=</span> CHAP# <span class="hljs-keyword">To</span> <span class="hljs-keyword">set</span> a CHAP username <span class="hljs-keyword">and</span> password <span class="hljs-keyword">for</span> initiator# authentication <span class="hljs-keyword">by</span> the target(s), uncomment the following lines:node.session.auth.username <span class="hljs-operator">=</span> iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000   # 根据openfiler提供的iqn填写node.session.auth.password <span class="hljs-operator">=</span> <span class="hljs-number">272</span>ad4715000</code></pre></div><h3 id="1-3-增加iSCSI启动器服务"><a href="#1-3-增加iSCSI启动器服务" class="headerlink" title="1.3 增加iSCSI启动器服务"></a>1.3 增加iSCSI启动器服务</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# systemctl enable iscsi.service[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# systemctl list<span class="hljs-operator">-</span>unit<span class="hljs-operator">-</span>files<span class="hljs-operator">|</span>grep iscsiiscsi<span class="hljs-operator">-</span>shutdown.service                      <span class="hljs-keyword">static</span>iscsi.service                               enablediscsid.service                              disablediscsiuio.service                            disablediscsid.socket                               enablediscsiuio.socket                             enabled</code></pre></div><h3 id="1-4-注册到openfiler服务器"><a href="#1-4-注册到openfiler服务器" class="headerlink" title="1.4 注册到openfiler服务器"></a>1.4 注册到openfiler服务器</h3><h4 id="1-4-1-注释文件内容"><a href="#1-4-1-注释文件内容" class="headerlink" title="1.4.1 注释文件内容"></a>1.4.1 注释文件内容</h4><p>在openfiler服务器上，注释掉/<strong>etc/initiators.deny文件里的内容</strong></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@openfiler</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>initiators.deny# PLEASE DO <span class="hljs-keyword">NOT</span> MODIFY THIS CONFIGURATION FILE<span class="hljs-operator">!</span>#       This configuration file was autogenerated#       <span class="hljs-keyword">by</span> Openfiler. <span class="hljs-keyword">Any</span> manual changes will be overwritten#       Generated <span class="hljs-keyword">at</span>: Tue Apr <span class="hljs-number">13</span> <span class="hljs-number">0</span>:<span class="hljs-number">47</span>:<span class="hljs-number">36</span> CST <span class="hljs-number">2021</span># iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000 <span class="hljs-keyword">ALL</span>   # 将该行注释# <span class="hljs-keyword">End</span> <span class="hljs-keyword">of</span> Openfiler configuration</code></pre></div><h4 id="1-4-2-在rhel7服务器中注册"><a href="#1-4-2-在rhel7服务器中注册" class="headerlink" title="1.4.2 在rhel7服务器中注册"></a>1.4.2 在rhel7服务器中注册</h4><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# iscsiadm <span class="hljs-operator">-</span>m discovery <span class="hljs-operator">-</span>t st <span class="hljs-operator">-</span>p <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.9</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.9</span>:<span class="hljs-number">3260</span>,<span class="hljs-number">1</span> iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000</code></pre></div><hr><h2 id="2-重启验证"><a href="#2-重启验证" class="headerlink" title="2 重启验证"></a>2 重启验证</h2><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# reboot[root<span class="hljs-variable">@rhel7</span> <span class="hljs-operator">~</span>]# fdisk <span class="hljs-operator">-</span>lDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda: <span class="hljs-number">21.5</span> GB, <span class="hljs-number">21474836480</span> bytes, <span class="hljs-number">41943040</span> sectorsUnits <span class="hljs-operator">=</span> sectors <span class="hljs-keyword">of</span> <span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">512</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk label type: dosDisk identifier: <span class="hljs-number">0x000609cb</span>   Device Boot      <span class="hljs-keyword">Start</span>         <span class="hljs-keyword">End</span>      Blocks   Id  <span class="hljs-keyword">System</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1   <span class="hljs-operator">*</span>        <span class="hljs-number">2048</span>      <span class="hljs-number">411647</span>      <span class="hljs-number">204800</span>   <span class="hljs-number">83</span>  Linux<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda2          <span class="hljs-number">411648</span>     <span class="hljs-number">4605951</span>     <span class="hljs-number">2097152</span>   <span class="hljs-number">82</span>  Linux swap <span class="hljs-operator">/</span> Solaris<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda3         <span class="hljs-number">4605952</span>    <span class="hljs-number">41943039</span>    <span class="hljs-number">18668544</span>   <span class="hljs-number">83</span>  LinuxDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb: <span class="hljs-number">104.9</span> GB, <span class="hljs-number">104857600000</span> bytes, <span class="hljs-number">204800000</span> sectorsUnits <span class="hljs-operator">=</span> sectors <span class="hljs-keyword">of</span> <span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">512</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc: <span class="hljs-number">209.7</span> GB, <span class="hljs-number">209715200000</span> bytes, <span class="hljs-number">409600000</span> sectorsUnits <span class="hljs-operator">=</span> sectors <span class="hljs-keyword">of</span> <span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">512</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdd: <span class="hljs-number">299.8</span> GB, <span class="hljs-number">299775295488</span> bytes, <span class="hljs-number">585498624</span> sectorsUnits <span class="hljs-operator">=</span> sectors <span class="hljs-keyword">of</span> <span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">512</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytes</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>redhat</category>
      
      <category>openfiler</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>redhat</tag>
      
      <tag>openfiler</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在rhel6.x上配置使用openfiler 2.99</title>
    <link href="/2021/05/06/%E5%9C%A8rhel6-x%E4%B8%8A%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8openfiler-2-99/"/>
    <url>/2021/05/06/%E5%9C%A8rhel6-x%E4%B8%8A%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8openfiler-2-99/</url>
    
    <content type="html"><![CDATA[<h1 id="在rhel6-x上配置openfiler-2-99"><a href="#在rhel6-x上配置openfiler-2-99" class="headerlink" title="在rhel6.x上配置openfiler 2.99"></a>在rhel6.x上配置openfiler 2.99</h1><blockquote><p>基于<strong>VMware Workstation 15</strong>.0 + <strong>rhel-server-6.9-x86_64-dvd.iso</strong></p></blockquote><div class="hljs code-wrapper"><pre><code class="hljs SQL">网卡：host<span class="hljs-operator">-</span><span class="hljs-keyword">only</span> <span class="hljs-operator">/</span> NAT内存：<span class="hljs-number">4</span>G处理器：<span class="hljs-number">2</span>硬盘：<span class="hljs-number">50</span>G主机名：yzy</code></pre></div><hr><h2 id="1-配置iSCSI-initiator"><a href="#1-配置iSCSI-initiator" class="headerlink" title="1 配置iSCSI initiator"></a>1 配置<strong>iSCSI initiator</strong></h2><h3 id="1-1-安装-iSCSI-启动器软件包"><a href="#1-1-安装-iSCSI-启动器软件包" class="headerlink" title="1.1 安装 iSCSI 启动器软件包"></a>1.1 <strong>安装 iSCSI 启动器软件包</strong></h3><div class="hljs code-wrapper"><pre><code class="hljs SQL"># 检查是否安装[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# rpm <span class="hljs-operator">-</span>qa<span class="hljs-operator">|</span>grep iscsi<span class="hljs-operator">*</span>iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-26.</span>el6.x86_64[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#</code></pre></div><p><strong>安装方法</strong></p><p>进入本地镜像的Packages目录下</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> Packages]# ls iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-operator">*</span>iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-26.</span>el6.x86_64.rpm[root<span class="hljs-variable">@yzy</span> Packages]# rpm <span class="hljs-operator">-</span>ivh iscsi<span class="hljs-operator">-</span>initiator<span class="hljs-operator">-</span>utils<span class="hljs-number">-6.2</span><span class="hljs-number">.0</span><span class="hljs-number">.873</span><span class="hljs-number">-26.</span>el6.x86_64.rpm</code></pre></div><h3 id="1-2-修改iSCSI配置文件"><a href="#1-2-修改iSCSI配置文件" class="headerlink" title="1.2 修改iSCSI配置文件"></a>1.2 修改<strong>iSCSI</strong>配置文件</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>iscsi<span class="hljs-operator">/</span>iscsid.conf# <span class="hljs-keyword">To</span> request that the iscsi initd scripts startup a session <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> &quot;automatic&quot;.# node.startup <span class="hljs-operator">=</span> automatic## <span class="hljs-keyword">To</span> manually startup the session <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> &quot;manual&quot;. The <span class="hljs-keyword">default</span> <span class="hljs-keyword">is</span> automatic.node.startup <span class="hljs-operator">=</span> automatic# <span class="hljs-keyword">For</span> &quot;automatic&quot; startup nodes, setting this <span class="hljs-keyword">to</span> &quot;Yes&quot; will try logins <span class="hljs-keyword">on</span> <span class="hljs-keyword">each</span># available iface until <span class="hljs-keyword">one</span> <span class="hljs-keyword">succeeds</span>, <span class="hljs-keyword">and</span> <span class="hljs-keyword">then</span> stop.  The <span class="hljs-keyword">default</span> &quot;No&quot; will try# logins <span class="hljs-keyword">on</span> <span class="hljs-keyword">all</span> availble ifaces simultaneously.node.leading_login <span class="hljs-operator">=</span> <span class="hljs-keyword">No</span># <span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span># CHAP Settings# <span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span># <span class="hljs-keyword">To</span> enable CHAP authentication <span class="hljs-keyword">set</span> node.session.auth.authmethod# <span class="hljs-keyword">to</span> CHAP. The <span class="hljs-keyword">default</span> <span class="hljs-keyword">is</span> None.node.session.auth.authmethod <span class="hljs-operator">=</span> CHAP# <span class="hljs-keyword">To</span> <span class="hljs-keyword">set</span> a CHAP username <span class="hljs-keyword">and</span> password <span class="hljs-keyword">for</span> initiator# authentication <span class="hljs-keyword">by</span> the target(s), uncomment the following lines:node.session.auth.username <span class="hljs-operator">=</span> iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000   # 根据openfiler提供的iqn填写node.session.auth.password <span class="hljs-operator">=</span> <span class="hljs-number">272</span>ad4715000</code></pre></div><h3 id="1-3-增加-iSCSI-启动器服务"><a href="#1-3-增加-iSCSI-启动器服务" class="headerlink" title="1.3 增加 iSCSI 启动器服务"></a>1.3 <strong>增加 iSCSI 启动器服务</strong></h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# chkconfig iscsi <span class="hljs-keyword">on</span>[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# chkconfig iscsi <span class="hljs-comment">--list</span>iscsi           <span class="hljs-number">0</span>:off   <span class="hljs-number">1</span>:off   <span class="hljs-number">2</span>:<span class="hljs-keyword">on</span>    <span class="hljs-number">3</span>:<span class="hljs-keyword">on</span>    <span class="hljs-number">4</span>:<span class="hljs-keyword">on</span>    <span class="hljs-number">5</span>:<span class="hljs-keyword">on</span>    <span class="hljs-number">6</span>:off</code></pre></div><h3 id="1-4-注册到openfiler服务器"><a href="#1-4-注册到openfiler服务器" class="headerlink" title="1.4 注册到openfiler服务器"></a>1.4 注册到openfiler服务器</h3><h4 id="1-4-1-注释文件内容"><a href="#1-4-1-注释文件内容" class="headerlink" title="1.4.1 注释文件内容"></a>1.4.1 注释文件内容</h4><p>在openfiler服务器上，注释掉/<strong>etc/initiators.deny文件里的内容</strong></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@openfiler</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>initiators.deny# PLEASE DO <span class="hljs-keyword">NOT</span> MODIFY THIS CONFIGURATION FILE<span class="hljs-operator">!</span>#       This configuration file was autogenerated#       <span class="hljs-keyword">by</span> Openfiler. <span class="hljs-keyword">Any</span> manual changes will be overwritten#       Generated <span class="hljs-keyword">at</span>: Tue Apr <span class="hljs-number">13</span> <span class="hljs-number">0</span>:<span class="hljs-number">47</span>:<span class="hljs-number">36</span> CST <span class="hljs-number">2021</span># iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000 <span class="hljs-keyword">ALL</span>   # 将该行注释# <span class="hljs-keyword">End</span> <span class="hljs-keyword">of</span> Openfiler configuration</code></pre></div><h4 id="1-4-2-在rhel6服务器中注册"><a href="#1-4-2-在rhel6服务器中注册" class="headerlink" title="1.4.2 在rhel6服务器中注册"></a>1.4.2 在rhel6服务器中注册</h4><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# iscsiadm <span class="hljs-operator">-</span>m discovery <span class="hljs-operator">-</span>t st <span class="hljs-operator">-</span>p <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.9</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.9</span>:<span class="hljs-number">3260</span>,<span class="hljs-number">1</span> iqn<span class="hljs-number">.2006</span><span class="hljs-number">-01.</span>com.openfiler:tsn<span class="hljs-number">.272</span>ad4715000</code></pre></div><hr><h2 id="2-重启验证"><a href="#2-重启验证" class="headerlink" title="2 重启验证"></a>2 重启验证</h2><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# reboot[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# fdisk <span class="hljs-operator">-</span>lDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda: <span class="hljs-number">53.7</span> GB, <span class="hljs-number">53687091200</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">6527</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x000de849</span>   Device Boot      <span class="hljs-keyword">Start</span>         <span class="hljs-keyword">End</span>      Blocks   Id  <span class="hljs-keyword">System</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1   <span class="hljs-operator">*</span>           <span class="hljs-number">1</span>          <span class="hljs-number">64</span>      <span class="hljs-number">512000</span>   <span class="hljs-number">83</span>  Linux<span class="hljs-keyword">Partition</span> <span class="hljs-number">1</span> does <span class="hljs-keyword">not</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">on</span> cylinder boundary.<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda2              <span class="hljs-number">64</span>        <span class="hljs-number">6528</span>    <span class="hljs-number">51915776</span>   <span class="hljs-number">8</span>e  Linux LVMDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb: <span class="hljs-number">966.4</span> GB, <span class="hljs-number">966367641600</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">117487</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0xd571fbe8</span>   Device Boot      <span class="hljs-keyword">Start</span>         <span class="hljs-keyword">End</span>      Blocks   Id  <span class="hljs-keyword">System</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb1               <span class="hljs-number">1</span>         <span class="hljs-number">100</span>      <span class="hljs-number">803218</span><span class="hljs-operator">+</span>  <span class="hljs-number">83</span>  Linux<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2             <span class="hljs-number">101</span>      <span class="hljs-number">117487</span>   <span class="hljs-number">942911077</span><span class="hljs-operator">+</span>  <span class="hljs-number">83</span>  LinuxDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root: <span class="hljs-number">49.0</span> GB, <span class="hljs-number">49014636544</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">5959</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_swap: <span class="hljs-number">4143</span> MB, <span class="hljs-number">4143972352</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">503</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc: <span class="hljs-number">104.9</span> GB, <span class="hljs-number">104857600000</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">12748</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sde: <span class="hljs-number">299.8</span> GB, <span class="hljs-number">299775295488</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">36445</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdd: <span class="hljs-number">209.7</span> GB, <span class="hljs-number">209715200000</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">25496</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>redhat</category>
      
      <category>openfiler</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>redhat</tag>
      
      <tag>openfiler</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安装配置openfiler 2.99服务器</title>
    <link href="/2021/05/06/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEopenfiler-2-99%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <url>/2021/05/06/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEopenfiler-2-99%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="安装配置openfiler-2-99服务器"><a href="#安装配置openfiler-2-99服务器" class="headerlink" title="安装配置openfiler 2.99服务器"></a>安装配置openfiler 2.99服务器</h1><blockquote><p>基于<strong>VMware Workstation 12.5</strong> + <strong>openfileresa-2.99.1-x86_64-disc1.iso</strong></p></blockquote><div class="hljs code-wrapper"><pre><code class="hljs SQL">网卡：host<span class="hljs-operator">-</span><span class="hljs-keyword">only</span>内存：<span class="hljs-number">512</span>M处理器：<span class="hljs-number">2</span>硬盘：<span class="hljs-number">50</span>G主机名：openfiler</code></pre></div><hr><h2 id="1-配置openfiler虚拟机"><a href="#1-配置openfiler虚拟机" class="headerlink" title="1 配置openfiler虚拟机"></a>1 配置openfiler虚拟机</h2><h3 id="1-1-自定义"><a href="#1-1-自定义" class="headerlink" title="1.1 自定义"></a>1.1 自定义</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162556.png" alt="image"></p><h3 id="1-2-硬件兼容性"><a href="#1-2-硬件兼容性" class="headerlink" title="1.2 硬件兼容性"></a>1.2 硬件兼容性</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162557.png" alt="image_1"></p><h3 id="1-3-稍后安装操作系统"><a href="#1-3-稍后安装操作系统" class="headerlink" title="1.3 稍后安装操作系统"></a>1.3 稍后安装操作系统</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162558.png" alt="image_2"></p><h3 id="1-4-其他Linux-2-6-x"><a href="#1-4-其他Linux-2-6-x" class="headerlink" title="1.4 其他Linux 2.6.x"></a>1.4 其他Linux 2.6.x</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162559.png" alt="image_3"></p><h3 id="1-5-命名虚拟机"><a href="#1-5-命名虚拟机" class="headerlink" title="1.5 命名虚拟机"></a>1.5 命名虚拟机</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162600.png" alt="image_4"></p><h3 id="1-6-处理器配置"><a href="#1-6-处理器配置" class="headerlink" title="1.6 处理器配置"></a>1.6 处理器配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162601.png" alt="image_5"></p><h3 id="1-7-内存配置"><a href="#1-7-内存配置" class="headerlink" title="1.7 内存配置"></a>1.7 内存配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162602.png" alt="image_6"></p><h3 id="1-8-网络类型"><a href="#1-8-网络类型" class="headerlink" title="1.8 网络类型"></a>1.8 网络类型</h3><p>确保openfiler服务器网络和主机网络能够互通</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162603.png" alt="image_7"></p><h3 id="1-9-I-O控制器类型"><a href="#1-9-I-O控制器类型" class="headerlink" title="1.9 I/O控制器类型"></a>1.9 I/O控制器类型</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162604.png" alt="image_8"></p><h3 id="1-10-磁盘类型"><a href="#1-10-磁盘类型" class="headerlink" title="1.10 磁盘类型"></a>1.10 磁盘类型</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162605.png" alt="image_9"></p><h3 id="1-11-选择磁盘"><a href="#1-11-选择磁盘" class="headerlink" title="1.11 选择磁盘"></a>1.11 选择磁盘</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162606.png" alt="image_10"></p><h3 id="1-12-指定磁盘容量"><a href="#1-12-指定磁盘容量" class="headerlink" title="1.12 指定磁盘容量"></a>1.12 指定磁盘容量</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162607.png" alt="image_11"></p><h3 id="1-13-指定磁盘文件"><a href="#1-13-指定磁盘文件" class="headerlink" title="1.13 指定磁盘文件"></a>1.13 指定磁盘文件</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162608.png" alt="image_12"></p><h3 id="1-14-自定义硬件"><a href="#1-14-自定义硬件" class="headerlink" title="1.14 自定义硬件"></a>1.14 自定义硬件</h3><p>添加ios镜像文件，开机</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162609.png" alt="image_13"></p><hr><h2 id="2-安装"><a href="#2-安装" class="headerlink" title="2 安装"></a>2 安装</h2><h3 id="2-1-install"><a href="#2-1-install" class="headerlink" title="2.1 install"></a>2.1 install</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162610.png" alt="image_14"></p><h3 id="2-2-Next"><a href="#2-2-Next" class="headerlink" title="2.2 Next"></a>2.2 Next</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162611.png" alt="image_15"></p><h3 id="2-3-选择键盘布局"><a href="#2-3-选择键盘布局" class="headerlink" title="2.3 选择键盘布局"></a>2.3 选择键盘布局</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162612.png" alt="image_16"></p><h3 id="2-4-分区"><a href="#2-4-分区" class="headerlink" title="2.4 分区"></a>2.4 分区</h3><p>/boot    1024M</p><p>swap     4096M</p><p>/            剩余所有</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162613.png" alt="image_17"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162614.png" alt="image_18"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162615.png" alt="image_19"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162616.png" alt="image_20"></p><h3 id="2-5-Next"><a href="#2-5-Next" class="headerlink" title="2.5 Next"></a>2.5 Next</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162617.png" alt="image_21"></p><h3 id="2-6-IP地址与主机名设置"><a href="#2-6-IP地址与主机名设置" class="headerlink" title="2.6 IP地址与主机名设置"></a>2.6 IP地址与主机名设置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162618.png" alt="image_22"></p><h3 id="2-7-时区选择"><a href="#2-7-时区选择" class="headerlink" title="2.7 时区选择"></a>2.7 时区选择</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162619.png" alt="image_23"></p><h3 id="2-8-root密码设置"><a href="#2-8-root密码设置" class="headerlink" title="2.8 root密码设置"></a>2.8 root密码设置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162620.png" alt="image_24"></p><h3 id="2-9-Next"><a href="#2-9-Next" class="headerlink" title="2.9 Next"></a>2.9 Next</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162621.png" alt="image_25"></p><h3 id="2-10-等待安装完成"><a href="#2-10-等待安装完成" class="headerlink" title="2.10 等待安装完成"></a>2.10 等待安装完成</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162622.png" alt="image_26"></p><h3 id="2-11-重启"><a href="#2-11-重启" class="headerlink" title="2.11 重启"></a>2.11 重启</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162623.png" alt="image_27"></p><hr><h2 id="3-openfiler配置"><a href="#3-openfiler配置" class="headerlink" title="3 openfiler配置"></a>3 openfiler配置</h2><h3 id="3-1-添加磁盘"><a href="#3-1-添加磁盘" class="headerlink" title="3.1 添加磁盘"></a>3.1 添加磁盘</h3><p>关机状态下，给openfiler服务器添加磁盘</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162624.png" alt="image_28"></p><h3 id="3-2-浏览器配置openfiler"><a href="#3-2-浏览器配置openfiler" class="headerlink" title="3.2 浏览器配置openfiler"></a>3.2 浏览器配置openfiler</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162625.png" alt="image_29"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162626.png" alt="image_30"></p><p>默认账户: openfiler  密码: password</p><h3 id="3-3-打开iSCSI服务"><a href="#3-3-打开iSCSI服务" class="headerlink" title="3.3 打开iSCSI服务"></a>3.3 打开iSCSI服务</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162627.png" alt="image_31"></p><h3 id="3-4-创建物理卷"><a href="#3-4-创建物理卷" class="headerlink" title="3.4 创建物理卷"></a>3.4 创建物理卷</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162628.png" alt="image_32"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162629.png" alt="image_33"></p><p>对三块盘都执行此操作</p><h3 id="3-5-创建卷组"><a href="#3-5-创建卷组" class="headerlink" title="3.5 创建卷组"></a>3.5 创建卷组</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162630.png" alt="image_34"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162631.png" alt="image_35"></p><h3 id="3-6-添加卷"><a href="#3-6-添加卷" class="headerlink" title="3.6 添加卷"></a>3.6 添加卷</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162632.png" alt="image_36"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162633.png" alt="image_37"></p><p>指定卷名及大小，重复此操作，将opendg卷组分为所需要的的卷</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162634.png" alt="image_38"></p><h3 id="3-7-网络配置"><a href="#3-7-网络配置" class="headerlink" title="3.7 网络配置"></a>3.7 网络配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162635.png" alt="image_39"></p><p>添加需要访问openfiler的服务器主机名、IP地址和子网掩码</p><h3 id="3-8-iSCSI-Target-配置"><a href="#3-8-iSCSI-Target-配置" class="headerlink" title="3.8 iSCSI Target 配置"></a>3.8 <strong>iSCSI Target 配置</strong></h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162636.png" alt="image_40"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162637.png" alt="image_41"></p><p>保存iqn，需要提供给其他服务器</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162638.png" alt="image_42"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162639.png" alt="image_43"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506162640.png" alt="image_44"></p><p><strong>openfiler服务器配置完毕</strong></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>openfiler</category>
      
    </categories>
    
    
    <tags>
      
      <tag>openfiler</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>硬盘分区及挂载</title>
    <link href="/2021/05/06/%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%8F%8A%E6%8C%82%E8%BD%BD/"/>
    <url>/2021/05/06/%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%8F%8A%E6%8C%82%E8%BD%BD/</url>
    
    <content type="html"><![CDATA[<h1 id="硬盘分区及挂载"><a href="#硬盘分区及挂载" class="headerlink" title="硬盘分区及挂载"></a>硬盘分区及挂载</h1><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# fdisk <span class="hljs-operator">-</span>lDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb: <span class="hljs-number">966.4</span> GB, <span class="hljs-number">966367641600</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">117487</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0xd571fbe8</span>   Device Boot      <span class="hljs-keyword">Start</span>         <span class="hljs-keyword">End</span>      Blocks   Id  <span class="hljs-keyword">System</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb1               <span class="hljs-number">1</span>         <span class="hljs-number">100</span>      <span class="hljs-number">803218</span><span class="hljs-operator">+</span>  <span class="hljs-number">83</span>  Linux<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2             <span class="hljs-number">101</span>      <span class="hljs-number">117487</span>   <span class="hljs-number">942911077</span><span class="hljs-operator">+</span>  <span class="hljs-number">83</span>  LinuxDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc: <span class="hljs-number">53.7</span> GB, <span class="hljs-number">53687091200</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">6527</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda: <span class="hljs-number">53.7</span> GB, <span class="hljs-number">53687091200</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">6527</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x000de849</span>   Device Boot      <span class="hljs-keyword">Start</span>         <span class="hljs-keyword">End</span>      Blocks   Id  <span class="hljs-keyword">System</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1   <span class="hljs-operator">*</span>           <span class="hljs-number">1</span>          <span class="hljs-number">64</span>      <span class="hljs-number">512000</span>   <span class="hljs-number">83</span>  Linux<span class="hljs-keyword">Partition</span> <span class="hljs-number">1</span> does <span class="hljs-keyword">not</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">on</span> cylinder boundary.<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda2              <span class="hljs-number">64</span>        <span class="hljs-number">6528</span>    <span class="hljs-number">51915776</span>   <span class="hljs-number">8</span>e  Linux LVMDisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root: <span class="hljs-number">49.0</span> GB, <span class="hljs-number">49014636544</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">5959</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>Disk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_swap: <span class="hljs-number">4143</span> MB, <span class="hljs-number">4143972352</span> bytes<span class="hljs-number">255</span> heads, <span class="hljs-number">63</span> sectors<span class="hljs-operator">/</span>track, <span class="hljs-number">503</span> cylindersUnits <span class="hljs-operator">=</span> cylinders <span class="hljs-keyword">of</span> <span class="hljs-number">16065</span> <span class="hljs-operator">*</span> <span class="hljs-number">512</span> <span class="hljs-operator">=</span> <span class="hljs-number">8225280</span> bytesSector size (logical<span class="hljs-operator">/</span>physical): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesI<span class="hljs-operator">/</span>O size (minimum<span class="hljs-operator">/</span>optimal): <span class="hljs-number">512</span> bytes <span class="hljs-operator">/</span> <span class="hljs-number">512</span> bytesDisk identifier: <span class="hljs-number">0x00000000</span>[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# fdisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdcDevice <span class="hljs-keyword">contains</span> neither a valid DOS <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span>, nor Sun, SGI <span class="hljs-keyword">or</span> OSF disklabelBuilding a <span class="hljs-keyword">new</span> DOS disklabel <span class="hljs-keyword">with</span> disk identifier <span class="hljs-number">0xa58fc8fb</span>.Changes will remain <span class="hljs-keyword">in</span> memory <span class="hljs-keyword">only</span>, until you decide <span class="hljs-keyword">to</span> write them.After that, <span class="hljs-keyword">of</span> course, the previous content won<span class="hljs-string">&#x27;t be recoverable.</span><span class="hljs-string"></span><span class="hljs-string">Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)</span><span class="hljs-string"></span><span class="hljs-string">WARNING: DOS-compatible mode is deprecated. It&#x27;</span>s strongly recommended <span class="hljs-keyword">to</span>         switch off the mode (command <span class="hljs-string">&#x27;c&#x27;</span>) <span class="hljs-keyword">and</span> change display units <span class="hljs-keyword">to</span>         sectors (command <span class="hljs-string">&#x27;u&#x27;</span>).Command (m <span class="hljs-keyword">for</span> help): nCommand action   e   extended   p   <span class="hljs-keyword">primary</span> <span class="hljs-keyword">partition</span> (<span class="hljs-number">1</span><span class="hljs-number">-4</span>)p<span class="hljs-keyword">Partition</span> number (<span class="hljs-number">1</span><span class="hljs-number">-4</span>): <span class="hljs-number">1</span><span class="hljs-keyword">First</span> cylinder (<span class="hljs-number">1</span><span class="hljs-number">-6527</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">1</span>):<span class="hljs-keyword">Using</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span> <span class="hljs-number">1</span>Last cylinder, +cylinders or +size&#123;K,M,G&#125; (1-6527, default 6527): +30GCommand (m <span class="hljs-keyword">for</span> help): wThe <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span> has been altered<span class="hljs-operator">!</span>Calling ioctl() <span class="hljs-keyword">to</span> re<span class="hljs-operator">-</span>read <span class="hljs-keyword">partition</span> table.Syncing disks.[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mkfs <span class="hljs-operator">-</span>t ext4 <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc1mke2fs <span class="hljs-number">1.41</span><span class="hljs-number">.12</span> (<span class="hljs-number">17</span><span class="hljs-operator">-</span>May<span class="hljs-number">-2010</span>)Filesystem label<span class="hljs-operator">=</span>OS type: LinuxBlock size<span class="hljs-operator">=</span><span class="hljs-number">4096</span> (log<span class="hljs-operator">=</span><span class="hljs-number">2</span>)Fragment size<span class="hljs-operator">=</span><span class="hljs-number">4096</span> (log<span class="hljs-operator">=</span><span class="hljs-number">2</span>)Stride<span class="hljs-operator">=</span><span class="hljs-number">0</span> blocks, Stripe width<span class="hljs-operator">=</span><span class="hljs-number">0</span> blocks<span class="hljs-number">1966560</span> inodes, <span class="hljs-number">7865817</span> blocks<span class="hljs-number">393290</span> blocks (<span class="hljs-number">5.00</span><span class="hljs-operator">%</span>) reserved <span class="hljs-keyword">for</span> the super <span class="hljs-keyword">user</span><span class="hljs-keyword">First</span> data block<span class="hljs-operator">=</span><span class="hljs-number">0</span>Maximum filesystem blocks<span class="hljs-operator">=</span><span class="hljs-number">4294967296</span><span class="hljs-number">241</span> block <span class="hljs-keyword">groups</span><span class="hljs-number">32768</span> blocks <span class="hljs-keyword">per</span> <span class="hljs-keyword">group</span>, <span class="hljs-number">32768</span> fragments <span class="hljs-keyword">per</span> <span class="hljs-keyword">group</span><span class="hljs-number">8160</span> inodes <span class="hljs-keyword">per</span> <span class="hljs-keyword">group</span>Superblock backups stored <span class="hljs-keyword">on</span> blocks:        <span class="hljs-number">32768</span>, <span class="hljs-number">98304</span>, <span class="hljs-number">163840</span>, <span class="hljs-number">229376</span>, <span class="hljs-number">294912</span>, <span class="hljs-number">819200</span>, <span class="hljs-number">884736</span>, <span class="hljs-number">1605632</span>, <span class="hljs-number">2654208</span>,        <span class="hljs-number">4096000</span>Writing inode tables: doneCreating journal (<span class="hljs-number">32768</span> blocks): doneWriting superblocks <span class="hljs-keyword">and</span> filesystem accounting information: doneThis filesystem will be automatically checked <span class="hljs-keyword">every</span> <span class="hljs-number">26</span> mounts <span class="hljs-keyword">or</span><span class="hljs-number">180</span> days, whichever comes first.  Use tune2fs <span class="hljs-operator">-</span>c <span class="hljs-keyword">or</span> <span class="hljs-operator">-</span>i <span class="hljs-keyword">to</span> override.[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mkdir <span class="hljs-operator">/</span>mto       # 创建挂载点[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mount <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc1 <span class="hljs-operator">/</span>mto     # 手动挂载，临时的，重启后失效[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# df <span class="hljs-operator">-</span>hFilesystem            Size  Used Avail Use<span class="hljs-operator">%</span> Mounted <span class="hljs-keyword">on</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root                       <span class="hljs-number">45</span>G  <span class="hljs-number">5.8</span>G   <span class="hljs-number">37</span>G  <span class="hljs-number">14</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>tmpfs                 <span class="hljs-number">2.0</span>G  <span class="hljs-number">253</span>M  <span class="hljs-number">1.7</span>G  <span class="hljs-number">13</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1             <span class="hljs-number">477</span>M   <span class="hljs-number">42</span>M  <span class="hljs-number">411</span>M  <span class="hljs-number">10</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>boot<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2             <span class="hljs-number">885</span>G  <span class="hljs-number">5.8</span>G  <span class="hljs-number">835</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc1              <span class="hljs-number">30</span>G   <span class="hljs-number">44</span>M   <span class="hljs-number">28</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>mto[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>fstab      # 自动挂载，系统开机时自动读取该配置文件进行挂载## <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>fstab# Created <span class="hljs-keyword">by</span> anaconda <span class="hljs-keyword">on</span> Thu Apr  <span class="hljs-number">8</span> <span class="hljs-number">00</span>:<span class="hljs-number">14</span>:<span class="hljs-number">43</span> <span class="hljs-number">2021</span>## Accessible filesystems, <span class="hljs-keyword">by</span> reference, <span class="hljs-keyword">are</span> maintained under <span class="hljs-string">&#x27;/dev/disk&#x27;</span># See man pages fstab(<span class="hljs-number">5</span>), findfs(<span class="hljs-number">8</span>), mount(<span class="hljs-number">8</span>) <span class="hljs-keyword">and</span><span class="hljs-operator">/</span><span class="hljs-keyword">or</span> blkid(<span class="hljs-number">8</span>) <span class="hljs-keyword">for</span> more info#<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root <span class="hljs-operator">/</span>                       ext4    defaults        <span class="hljs-number">1</span> <span class="hljs-number">1</span>UUID<span class="hljs-operator">=</span><span class="hljs-number">5</span>f3593bb<span class="hljs-number">-18</span>ae<span class="hljs-number">-4</span>b26<span class="hljs-number">-9211</span><span class="hljs-number">-2</span>a5da943ce39 <span class="hljs-operator">/</span>boot                   ext4    defaults        <span class="hljs-number">1</span> <span class="hljs-number">2</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_swap swap                    swap    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span>tmpfs                   <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm                tmpfs   defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span>devpts                  <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>pts                devpts  gid<span class="hljs-operator">=</span><span class="hljs-number">5</span>,mode<span class="hljs-operator">=</span><span class="hljs-number">620</span>  <span class="hljs-number">0</span> <span class="hljs-number">0</span>sysfs                   <span class="hljs-operator">/</span>sys                    sysfs   defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span>proc                    <span class="hljs-operator">/</span>proc                   proc    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2               <span class="hljs-operator">/</span>u01                   ext4    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdc1               <span class="hljs-operator">/</span>mto                   ext4    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>rhel6.9安装手册</title>
    <link href="/2021/05/06/rhel6-9%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/"/>
    <url>/2021/05/06/rhel6-9%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="rhel6-9安装手册"><a href="#rhel6-9安装手册" class="headerlink" title="rhel6.9安装手册"></a>rhel6.9安装手册</h1><blockquote><p>基于VMware Workstation 15.0 + <strong>rhel-server-6.9-x86_64-dvd.iso</strong></p></blockquote><div class="hljs code-wrapper"><pre><code class="hljs SQL">网卡：host<span class="hljs-operator">-</span><span class="hljs-keyword">only</span> <span class="hljs-operator">/</span> NAT内存：<span class="hljs-number">4</span>G处理器：<span class="hljs-number">2</span>硬盘：<span class="hljs-number">50</span>G主机名：rhel6</code></pre></div><hr><h2 id="1-虚拟机配置"><a href="#1-虚拟机配置" class="headerlink" title="1 虚拟机配置"></a>1 虚拟机配置</h2><h3 id="1-1-新建虚拟机"><a href="#1-1-新建虚拟机" class="headerlink" title="1.1 新建虚拟机"></a>1.1 新建虚拟机</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160456.png" alt="image"></p><p>选择自定义类型</p><h3 id="1-2-硬件兼容性"><a href="#1-2-硬件兼容性" class="headerlink" title="1.2 硬件兼容性"></a>1.2 硬件兼容性</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160457.png" alt="image_1"></p><p>根据需求确定，无特殊要求默认即可</p><h3 id="1-3-安装操作系统"><a href="#1-3-安装操作系统" class="headerlink" title="1.3 安装操作系统"></a>1.3 安装操作系统</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160458.png" alt="image_2"></p><p>选择稍后安装</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160459.png" alt="image_3"></p><p>根据镜像选择对应操作系统及版本</p><h3 id="1-4-命名虚拟机及位置"><a href="#1-4-命名虚拟机及位置" class="headerlink" title="1.4 命名虚拟机及位置"></a>1.4 命名虚拟机及位置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160500.png" alt="image_4"></p><h3 id="1-5-处理器配置"><a href="#1-5-处理器配置" class="headerlink" title="1.5 处理器配置"></a>1.5 处理器配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160501.png" alt="image_5"></p><p>根据个人电脑环境配置</p><h3 id="1-6-内存配置"><a href="#1-6-内存配置" class="headerlink" title="1.6 内存配置"></a>1.6 内存配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160502.png" alt="image_6"></p><p>根据个人电脑环境配置</p><h3 id="1-7-网络配置"><a href="#1-7-网络配置" class="headerlink" title="1.7 网络配置"></a>1.7 网络配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160503.png" alt="image_7"></p><p>稍后添加NAT网卡</p><h3 id="1-8-IO控制器类型"><a href="#1-8-IO控制器类型" class="headerlink" title="1.8 IO控制器类型"></a>1.8 IO控制器类型</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160504.png" alt="image_8"></p><p>默认即可</p><h3 id="1-9-磁盘配置"><a href="#1-9-磁盘配置" class="headerlink" title="1.9 磁盘配置"></a>1.9 磁盘配置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160505.png" alt="image_9"></p><p>磁盘类型默认即可</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160506.png" alt="image_10"></p><p>创建新虚拟磁盘</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160507.png" alt="image_11"></p><p>指定容量大小</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160508.png" alt="image_12"></p><p>指定磁盘文件</p><h3 id="1-10-配置清单"><a href="#1-10-配置清单" class="headerlink" title="1.10 配置清单"></a>1.10 配置清单</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160509.png" alt="image_13"></p><p>可以看到所配置的虚拟机配置清单</p><p>可在此步骤中添加网卡、磁盘等硬件</p><p>添加NAT网卡</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160510.png" alt="image_14"></p><p>选择网络适配器</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160511.png" alt="image_15"></p><p>选择类型</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160512.png" alt="image_16"></p><p>至此，虚拟机配置完成</p><hr><h2 id="2-操作系统安装"><a href="#2-操作系统安装" class="headerlink" title="2 操作系统安装"></a>2 操作系统安装</h2><h3 id="2-1-添加镜像文件"><a href="#2-1-添加镜像文件" class="headerlink" title="2.1 添加镜像文件"></a>2.1 添加镜像文件</h3><p>编辑虚拟机设置→CD/DVD→使用ISO镜像文件</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160513.png" alt="image_17"></p><h3 id="2-2-安装"><a href="#2-2-安装" class="headerlink" title="2.2 安装"></a>2.2 安装</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160514.png" alt="image_18"></p><p>install</p><p>等待……</p><h3 id="2-3-磁盘检查"><a href="#2-3-磁盘检查" class="headerlink" title="2.3 磁盘检查"></a>2.3 磁盘检查</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160515.png" alt="image_19"></p><p>选择Skip，跳过磁盘检查</p><p>等待……</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160516.png" alt="image_20"></p><p>Next</p><h3 id="2-4-选择语言"><a href="#2-4-选择语言" class="headerlink" title="2.4 选择语言"></a>2.4 选择语言</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160517.png" alt="image_21"></p><p>选择语言→English</p><h3 id="2-5-选择键盘布局"><a href="#2-5-选择键盘布局" class="headerlink" title="2.5 选择键盘布局"></a>2.5 选择键盘布局</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160518.png" alt="image_22"></p><p>选择键盘布局→U.S. English</p><h3 id="2-6-选择存储设备"><a href="#2-6-选择存储设备" class="headerlink" title="2.6 选择存储设备"></a>2.6 选择存储设备</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160519.png" alt="image_23"></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">Basic Storage Devices(基本存储设备)   一般指连接本地磁盘Specialized Storage Devices(指定存储设备)   指定其他的存储设备，例如存储区网络（SAN）、直接访问存储设备（DASD）、固件RAID设备、多路径设备等</code></pre></div><h3 id="2-7-丢弃硬盘数据"><a href="#2-7-丢弃硬盘数据" class="headerlink" title="2.7 丢弃硬盘数据"></a>2.7 丢弃硬盘数据</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160520.png" alt="image_24"></p><p>对于虚拟机来说，这是一块新的硬盘，因此选择丢弃硬盘上的任何数据</p><h3 id="2-8-设置主机名"><a href="#2-8-设置主机名" class="headerlink" title="2.8 设置主机名"></a>2.8 设置主机名</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160521.png" alt="image_25"></p><p>设置主机名→rhel6</p><h3 id="2-9-时区选择"><a href="#2-9-时区选择" class="headerlink" title="2.9 时区选择"></a>2.9 时区选择</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160522.png" alt="image_26"></p><p>Asia/Shanghai</p><h3 id="2-10-设置root密码"><a href="#2-10-设置root密码" class="headerlink" title="2.10 设置root密码"></a>2.10 设置root密码</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160523.png" alt="image_27"></p><h3 id="2-11-磁盘分区设置"><a href="#2-11-磁盘分区设置" class="headerlink" title="2.11 磁盘分区设置"></a>2.11 磁盘分区设置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160524.png" alt="image_28"></p><ul><li><p>Use All Space</p><p>删除所有分区，并自动创建新的分区</p></li><li><p>Replace Existing Linux System</p><p>替换掉已存在的Linux系统</p></li><li><p>Shrink Current System</p><p>回收一个存在的分区</p></li><li><p>Use Free Space</p><p>使用剩余的空间</p></li><li><p>Create Custom Layout</p><p>自定义分区</p></li></ul><h3 id="2-12-定制软件"><a href="#2-12-定制软件" class="headerlink" title="2.12 定制软件"></a>2.12 定制软件</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160525.png" alt="image_29"></p><h3 id="2-13-等待安装完成"><a href="#2-13-等待安装完成" class="headerlink" title="2.13 等待安装完成"></a>2.13 等待安装完成</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160526.png" alt="image_30"></p><h3 id="2-14-重启"><a href="#2-14-重启" class="headerlink" title="2.14 重启"></a>2.14 重启</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160527.png" alt="image_31"></p><h3 id="2-15-系统设置"><a href="#2-15-系统设置" class="headerlink" title="2.15 系统设置"></a>2.15 系统设置</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160528.png" alt="image_32"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160529.png" alt="image_33"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160530.png" alt="image_34"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160531.png" alt="image_35"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160532.png" alt="image_36"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160533.png" alt="image_37"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160534.png" alt="image_38"></p><p>安装完成</p><h3 id="2-16-使用CRT连接虚拟机"><a href="#2-16-使用CRT连接虚拟机" class="headerlink" title="2.16 使用CRT连接虚拟机"></a>2.16 使用CRT连接虚拟机</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506160536.png" alt="image_40"></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
      <category>redhat</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>redhat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle 19c单实例安装手册</title>
    <link href="/2021/05/06/Oracle-19c%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/"/>
    <url>/2021/05/06/Oracle-19c%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="19c单实例安装手册"><a href="#19c单实例安装手册" class="headerlink" title="19c单实例安装手册"></a>19c单实例安装手册</h1><div class="hljs code-wrapper"><pre><code class="hljs SQL">OS Version：CentOS <span class="hljs-number">7.6</span>内存：<span class="hljs-number">8</span>G硬盘：<span class="hljs-number">100</span>G分区： <span class="hljs-operator">/</span>boot <span class="hljs-number">200</span>M; swap <span class="hljs-number">4096</span>M; <span class="hljs-operator">/</span>u01 <span class="hljs-number">50</span>G; <span class="hljs-operator">/</span> <span class="hljs-number">40</span>G处理器：<span class="hljs-number">1</span>cpu，<span class="hljs-number">2</span>核心网卡：hostonly <span class="hljs-operator">/</span> NAT</code></pre></div><hr><h2 id="1-获取介质"><a href="#1-获取介质" class="headerlink" title="1 获取介质"></a>1 获取介质</h2><p><a href="https://edelivery.oracle.com/"><strong>下载链接</strong></a></p><hr><h2 id="2-操作系统检查及调整"><a href="#2-操作系统检查及调整" class="headerlink" title="2 操作系统检查及调整"></a>2 操作系统检查及调整</h2><p><strong>硬件</strong>、<strong>操作系统</strong>、<strong>服务器配置</strong>、<strong>用户环境配置</strong>及<strong>存储配置</strong>根据<a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/install-and-upgrade.html"><strong>官方文档</strong></a>要求进行配置</p><h3 id="2-1-安装所需的包"><a href="#2-1-安装所需的包" class="headerlink" title="2.1 安装所需的包"></a>2.1 安装所需的包</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155437.png" alt="image"></p><p>从18c 开始，可通过手动安装和自动配置两种方式解决操作系统依赖安装</p><h4 id="2-1-1-手动安装"><a href="#2-1-1-手动安装" class="headerlink" title="2.1.1 手动安装"></a>2.1.1 手动安装</h4><p>可通过网络yum源进行安装 (CentOS)</p><p>也可通过配置本地yum源仓库进行安装</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">yum install libst<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install gcc<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install libaio<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install glibc<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install compat<span class="hljs-operator">*</span>yum install libx<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install libX<span class="hljs-operator">*</span> yyum install make<span class="hljs-operator">*</span> <span class="hljs-operator">-</span>yyum install sysstat<span class="hljs-operator">*</span></code></pre></div><h4 id="2-1-2-自动配置"><a href="#2-1-2-自动配置" class="headerlink" title="2.1.2 自动配置"></a>2.1.2 自动配置</h4><p>preinstall包除了自动安装所需的包之外，还会创建相应的group和user</p><div class="hljs code-wrapper"><pre><code class="hljs SQL"># 获取rpm包curl <span class="hljs-operator">-</span>o oracle<span class="hljs-operator">-</span>database<span class="hljs-operator">-</span>preinstall<span class="hljs-number">-19</span>c<span class="hljs-number">-1.0</span><span class="hljs-number">-1.</span>el7.x86_64.rpm https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>yum.oracle.com<span class="hljs-operator">/</span>repo<span class="hljs-operator">/</span>OracleLinux<span class="hljs-operator">/</span>OL7<span class="hljs-operator">/</span>latest<span class="hljs-operator">/</span>x86_64<span class="hljs-operator">/</span>getPackage<span class="hljs-operator">/</span>oracle<span class="hljs-operator">-</span>database<span class="hljs-operator">-</span>preinstall<span class="hljs-number">-19</span>c<span class="hljs-number">-1.0</span><span class="hljs-number">-1.</span>el7.x86_64.rpm# 安装rpm包yum <span class="hljs-operator">-</span>y localinstall oracle<span class="hljs-operator">-</span>database<span class="hljs-operator">-</span>preinstall<span class="hljs-number">-19</span>c<span class="hljs-number">-1.0</span><span class="hljs-number">-1.</span>el7.x86_64.rpm</code></pre></div><h3 id="2-2-检查内核版本及参数调整"><a href="#2-2-检查内核版本及参数调整" class="headerlink" title="2.2 检查内核版本及参数调整"></a>2.2 检查内核版本及参数调整</h3><h4 id="2-2-1-内核版本检查"><a href="#2-2-1-内核版本检查" class="headerlink" title="2.2.1 内核版本检查"></a>2.2.1 内核版本检查</h4><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>oracle<span class="hljs-operator">-</span><span class="hljs-keyword">release</span>   # oracle linux oscat <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>redhat<span class="hljs-operator">-</span><span class="hljs-keyword">release</span>   # redhat oscat <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>os<span class="hljs-operator">-</span><span class="hljs-keyword">release</span>lsb_release <span class="hljs-operator">-</span>iduname <span class="hljs-operator">-</span>r</code></pre></div><h4 id="2-2-2-内核参数配置"><a href="#2-2-2-内核参数配置" class="headerlink" title="2.2.2 内核参数配置"></a>2.2.2 内核参数配置</h4><p>/etc/sysctl.conf</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.conf<span class="hljs-operator">&lt;&lt;</span>EOFnet.ipv4.ip_local_port_range <span class="hljs-operator">=</span> <span class="hljs-number">9000</span> <span class="hljs-number">65500</span>net.ipv4.tcp_rmem <span class="hljs-operator">=</span> <span class="hljs-number">4096</span> <span class="hljs-number">87380</span> <span class="hljs-number">4194304</span>net.ipv4.tcp_wmem <span class="hljs-operator">=</span> <span class="hljs-number">4096</span> <span class="hljs-number">16384</span> <span class="hljs-number">4194304</span>fs.aio<span class="hljs-operator">-</span>max<span class="hljs-operator">-</span>nr <span class="hljs-operator">=</span> <span class="hljs-number">1048576</span>   # 限制并发未完成的请求，文件系统最大异步IO，设置避免io子系统故障fs.file<span class="hljs-operator">-</span>max <span class="hljs-operator">=</span> <span class="hljs-number">6815744</span>   # 决定了系统中所允许的文件句柄最大数目，文件句柄设置代表linux系统中可以打开的文件的数量kernel.shmall <span class="hljs-operator">=</span> <span class="hljs-number">2097152</span>kernel.shmmax <span class="hljs-operator">=</span> <span class="hljs-number">4294967295</span>kernel.shmmni <span class="hljs-operator">=</span> <span class="hljs-number">4096</span>    # 表示单个共享内存段的最小值kernel.sem <span class="hljs-operator">=</span> <span class="hljs-number">250</span> <span class="hljs-number">32000</span> <span class="hljs-number">100</span> <span class="hljs-number">128</span>    # 该参数表示可以使用的信号量net.ipv4.ip_local_port_range <span class="hljs-operator">=</span> <span class="hljs-number">9000</span> <span class="hljs-number">65500</span>net.core.rmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>   # 表示套接字接收缓冲区大小的缺省值net.core.rmem_max <span class="hljs-operator">=</span> <span class="hljs-number">4194304</span>      # 表示套接字接收缓冲区大小的最大值net.core.wmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>   # 表示套接字发送缓冲区大小的缺省值net.core.wmem_max <span class="hljs-operator">=</span> <span class="hljs-number">1048576</span>      # 表示套接字发送缓冲区大小的最大值EOFsysctl <span class="hljs-operator">-</span>p</code></pre></div><p>/etc/security/limits.conf</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>security<span class="hljs-operator">/</span>limits.conf<span class="hljs-operator">&lt;&lt;</span>EOForacle soft nofile <span class="hljs-number">1024</span>oracle hard nofile <span class="hljs-number">65536</span>oracle soft nproc <span class="hljs-number">2047</span>oracle hard nproc <span class="hljs-number">16384</span>oracle soft stack <span class="hljs-number">10240</span>oracle hard stack <span class="hljs-number">32768</span>EOF</code></pre></div><p>关闭透明大页</p><p>透明大页会在运行时导致内存分配延迟</p><p>为了避免性能问题，Oracle建议在所有Oracle数据库服务器上禁用透明大页</p><div class="hljs code-wrapper"><pre><code class="hljs SQL"># rhelcat <span class="hljs-operator">/</span>sys<span class="hljs-operator">/</span>kernel<span class="hljs-operator">/</span>mm<span class="hljs-operator">/</span>redhat_transparent_hugepage<span class="hljs-operator">/</span>enabled # othercat <span class="hljs-operator">/</span>sys<span class="hljs-operator">/</span>kernel<span class="hljs-operator">/</span>mm<span class="hljs-operator">/</span>transparent_hugepage<span class="hljs-operator">/</span>enabled[always] madvise never    # 返回该结果表示当前为always模式，即开启状态# 关闭 (<span class="hljs-keyword">for</span> ol7 <span class="hljs-operator">&amp;</span> rhel7)vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span><span class="hljs-keyword">default</span><span class="hljs-operator">/</span>grubGRUB_TIMEOUT<span class="hljs-operator">=</span><span class="hljs-number">5</span>GRUB_DISTRIBUTOR<span class="hljs-operator">=</span>&quot;$(sed &#x27;s, release .*$,,g&#x27; /etc/system-release)&quot;GRUB_DEFAULT<span class="hljs-operator">=</span>savedGRUB_DISABLE_SUBMENU<span class="hljs-operator">=</span><span class="hljs-literal">true</span>GRUB_TERMINAL_OUTPUT<span class="hljs-operator">=</span>&quot;console&quot;GRUB_CMDLINE_LINUX<span class="hljs-operator">=</span>&quot;rhgb quiet numa=off transparent_hugepage=never &quot;  # 添加绿色部分GRUB_DISABLE_RECOVERY<span class="hljs-operator">=</span>&quot;true&quot;# 生成grub.cfg文件grub2<span class="hljs-operator">-</span>mkconfig <span class="hljs-operator">-</span>o <span class="hljs-operator">/</span>boot<span class="hljs-operator">/</span>grub2<span class="hljs-operator">/</span>grub.cfg</code></pre></div><h4 id="2-2-3-关闭防火墙及selinux"><a href="#2-2-3-关闭防火墙及selinux" class="headerlink" title="2.2.3 关闭防火墙及selinux"></a>2.2.3 关闭防火墙及selinux</h4><p>关闭防火墙</p><div class="hljs code-wrapper"><pre><code class="hljs SQL"># 查看防火墙状态systemctl list<span class="hljs-operator">-</span>unit<span class="hljs-operator">-</span>files<span class="hljs-operator">|</span>grep firewalld# 关闭及禁用systemctl stop firewalld.servicesystemctl status firewalld.servicesystemctl disable firewalld.service</code></pre></div><p>禁用selinux</p><p>/etc/selinux/config</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>selinux<span class="hljs-operator">/</span>configSELINUX<span class="hljs-operator">=</span>disabled# 重启后生效# 查看状态getenforce</code></pre></div><hr><h2 id="3-配置组、用户、目录"><a href="#3-配置组、用户、目录" class="headerlink" title="3 配置组、用户、目录"></a>3 配置组、用户、目录</h2><p>如果在2.1步骤中，执行的是2.1.2 自动配置，则所需的组和用户已经自动创建，可忽略3.1及3.2</p><h3 id="3-1-创建组"><a href="#3-1-创建组" class="headerlink" title="3.1 创建组"></a>3.1 创建组</h3><p>标红的组可不用创建，根据具体需求进行选择，但oinstall和dba组必须要有</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">groupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54321</span> oinstallgroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54322</span> dbagroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54323</span> opergroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54324</span> backupdbagroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54325</span> dgdbagroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54326</span> kmdbagroupadd <span class="hljs-operator">-</span>g <span class="hljs-number">54330</span> racdba</code></pre></div><h3 id="3-2-创建用户"><a href="#3-2-创建用户" class="headerlink" title="3.2 创建用户"></a>3.2 创建用户</h3><p>如果创建了标红的组，则需要将该组添加为属组</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">useradd <span class="hljs-operator">-</span>u <span class="hljs-number">54321</span> <span class="hljs-operator">-</span>g oinstall <span class="hljs-operator">-</span>G dba,oper,backupdba,dgdba,kmdba,racdba,asmdba oracleecho &quot;oracle&quot; <span class="hljs-operator">|</span> passwd <span class="hljs-comment">--stdin oracle</span></code></pre></div><h3 id="3-3-创建目录"><a href="#3-3-创建目录" class="headerlink" title="3.3 创建目录"></a>3.3 创建目录</h3><p>根据需求创建，路径不做要求</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">mkdir <span class="hljs-operator">-</span>p <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>appchown <span class="hljs-operator">-</span>R oracle:oinstall <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>appchmod <span class="hljs-operator">-</span>R <span class="hljs-number">775</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>appmkdir <span class="hljs-operator">-</span>p <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraInventorychown <span class="hljs-operator">-</span>R oracle:oinstall <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraInventorychmod <span class="hljs-operator">-</span>R <span class="hljs-number">775</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraInventorymkdir <span class="hljs-operator">-</span>p <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>cfgtoollogsmkdir <span class="hljs-operator">-</span>p <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>product<span class="hljs-operator">/</span><span class="hljs-number">19.3</span><span class="hljs-number">.0</span><span class="hljs-operator">/</span>dbhome_1chown <span class="hljs-operator">-</span>R oracle:oinstall <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraclechmod <span class="hljs-operator">-</span>R <span class="hljs-number">775</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle</code></pre></div><hr><h2 id="4-安装软件"><a href="#4-安装软件" class="headerlink" title="4 安装软件"></a>4 安装软件</h2><h3 id="4-1-配置oracle用户环境变量"><a href="#4-1-配置oracle用户环境变量" class="headerlink" title="4.1 配置oracle用户环境变量"></a>4.1 配置oracle用户环境变量</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">su <span class="hljs-operator">-</span> oraclevim .bash_profileexport ORACLE_BASE<span class="hljs-operator">=</span><span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracleexport ORACLE_HOME<span class="hljs-operator">=</span>$ORACLE_BASE<span class="hljs-operator">/</span>product<span class="hljs-operator">/</span><span class="hljs-number">19.3</span><span class="hljs-number">.0</span><span class="hljs-operator">/</span>dbhome_1export ORACLE_SID<span class="hljs-operator">=</span>zydbexport PATH<span class="hljs-operator">=</span>$ORACLE_HOME<span class="hljs-operator">/</span>bin:$PATHexport LD_LIBRARY_PATH<span class="hljs-operator">=</span>$ORACLE_HOME<span class="hljs-operator">/</span>lib:$LD_LIBRARY_PATHsource .bash_profile</code></pre></div><h3 id="4-2-解压软件"><a href="#4-2-解压软件" class="headerlink" title="4.2 解压软件"></a>4.2 解压软件</h3><p>在19c中，要求必须将软件解压至 ORACLE_HOME下</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">unzip LINUX.X64_193000_db_home\ .zip <span class="hljs-operator">-</span>d $ORACLE_HOME</code></pre></div><h3 id="4-3-安装软件"><a href="#4-3-安装软件" class="headerlink" title="4.3 安装软件"></a>4.3 安装软件</h3><p>启动Xmanager - Passive服务</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">export DISPLAY<span class="hljs-operator">=</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.11</span>:<span class="hljs-number">0.0</span>     # 宿主机ipxhost <span class="hljs-operator">+</span>cd $ORACLE_HOME.<span class="hljs-operator">/</span>runInstaller</code></pre></div><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155438.png" alt="image_1"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155439.png" alt="image_2"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155440.png" alt="image_3"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155441.png" alt="image_4"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155442.png" alt="image_5"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155443.png" alt="image_6"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155444.png" alt="image_7"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155445.png" alt="image_8"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155446.png" alt="image_9"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155447.png" alt="image_10"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155448.png" alt="image_11"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155449.png" alt="image_12"></p><h3 id="4-4-配置监听"><a href="#4-4-配置监听" class="headerlink" title="4.4 配置监听"></a>4.4 配置监听</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">export DISPLAY<span class="hljs-operator">=</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.11</span>:<span class="hljs-number">0.0</span>xhost <span class="hljs-operator">+</span>netca</code></pre></div><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155450.png" alt="image_13"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155451.png" alt="image_14"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155452.png" alt="image_15"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155453.png" alt="image_16"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155454.png" alt="image_17"></p><h3 id="4-5-建库"><a href="#4-5-建库" class="headerlink" title="4.5 建库"></a>4.5 建库</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">export DISPLAY<span class="hljs-operator">=</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.11</span>:<span class="hljs-number">0.0</span>xhost <span class="hljs-operator">+</span>dbca</code></pre></div><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155455.png" alt="image_18"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155456.png" alt="image_19"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155457.png" alt="image_20"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155458.png" alt="image_21"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155459.png" alt="image_22"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155500.png" alt="image_23"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155501.png" alt="image_24"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155502.png" alt="image_25"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155503.png" alt="image_26"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155504.png" alt="image_27"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155505.png" alt="image_28"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155506.png" alt="image_29"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155507.png" alt="image_30"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155508.png" alt="image_31"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155509.png" alt="image_32"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155510.png" alt="image_33"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506155511.png" alt="image_34"></p><hr><h2 id="5-其他调整"><a href="#5-其他调整" class="headerlink" title="5 其他调整"></a>5 其他调整</h2><h3 id="5-1-sqlplus配置"><a href="#5-1-sqlplus配置" class="headerlink" title="5.1 sqlplus配置"></a>5.1 sqlplus配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span>$ORACLE_HOME<span class="hljs-operator">/</span>sqlplus<span class="hljs-operator">/</span>admin<span class="hljs-operator">/</span>glogin.sql<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-keyword">set</span> linesize <span class="hljs-number">120</span><span class="hljs-keyword">set</span> pagesize <span class="hljs-number">999</span><span class="hljs-keyword">define</span> _editor<span class="hljs-operator">=</span>vi<span class="hljs-keyword">set</span> sqlprompt &quot;_user&#x27;@&#x27;_connect_identifier&gt; &quot;EOF</code></pre></div><h3 id="5-2-rlwrap安装配置"><a href="#5-2-rlwrap安装配置" class="headerlink" title="5.2 rlwrap安装配置"></a>5.2 rlwrap安装配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">yum <span class="hljs-operator">-</span>y install readline<span class="hljs-operator">*</span># 上传rlwrap包tar <span class="hljs-operator">-</span>xvf rlwrap<span class="hljs-number">-0.37</span>.tar.gzcd rlwrap<span class="hljs-number">-0.37</span>.<span class="hljs-operator">/</span>configuremake <span class="hljs-operator">&amp;&amp;</span> make installwhich rlwrapcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile<span class="hljs-operator">&lt;&lt;</span>EOFalias sqlplus<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap sqlplus&#x27;</span>alias rman<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap rman&#x27;</span>EOF # oracle用户source <span class="hljs-operator">~</span><span class="hljs-operator">/</span>.bash_profile</code></pre></div><hr>]]></content>
    
    
    <categories>
      
      <category>Oracle</category>
      
      <category>19c</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle 12c单实例安装手册</title>
    <link href="/2021/05/06/Oracle-12c%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/"/>
    <url>/2021/05/06/Oracle-12c%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="12c单实例安装手册"><a href="#12c单实例安装手册" class="headerlink" title="12c单实例安装手册"></a>12c单实例安装手册</h1><div class="hljs code-wrapper"><pre><code class="hljs SQL">OS Version：rhel6<span class="hljs-number">.9</span>内存：<span class="hljs-number">4</span>G硬盘：<span class="hljs-number">100</span>G分区： <span class="hljs-operator">/</span>boot <span class="hljs-number">200</span>M; swap <span class="hljs-number">4096</span>M; <span class="hljs-operator">/</span>u01 <span class="hljs-number">50</span>G; <span class="hljs-operator">/</span> <span class="hljs-number">40</span>G处理器：<span class="hljs-number">1</span>cpu，<span class="hljs-number">2</span>核心网卡：hostonly <span class="hljs-operator">/</span> NAT</code></pre></div><hr><h2 id="1-获取介质"><a href="#1-获取介质" class="headerlink" title="1 获取介质"></a>1 获取介质</h2><p><a href="https://support.oracle.com/portal/">下载链接</a></p><hr><h2 id="2-操作系统检查及调整"><a href="#2-操作系统检查及调整" class="headerlink" title="2 操作系统检查及调整"></a>2 操作系统检查及调整</h2><h3 id="2-1-配置本地主机名解析"><a href="#2-1-配置本地主机名解析" class="headerlink" title="2.1 配置本地主机名解析"></a>2.1 配置本地主机名解析</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# cat <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysconfig<span class="hljs-operator">/</span>networkNETWORKING<span class="hljs-operator">=</span>yesHOSTNAME<span class="hljs-operator">=</span>yzy[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# cat <span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>hosts<span class="hljs-operator">&lt;&lt;</span> EOF<span class="hljs-operator">&gt;</span> <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.111</span> yzy<span class="hljs-operator">&gt;</span> EOF</code></pre></div><h3 id="2-2-修改内核参数"><a href="#2-2-修改内核参数" class="headerlink" title="2.2 修改内核参数"></a>2.2 修改内核参数</h3><p>修改一些内核参数，如果已经存在，它会取最高值</p><p>内存 = 4G</p><p>Controls the maximum shared segment size, in bytes</p><p>kernel.shmmax = 4<em>1024</em>1024*1024-1 = 41947234303</p><div class="hljs code-wrapper"><pre><code class="hljs SQL"># redhat <span class="hljs-number">6.9</span> 写在<span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.d<span class="hljs-operator">/</span><span class="hljs-number">97</span><span class="hljs-operator">-</span>oracledatabase<span class="hljs-operator">-</span>sysctl.conf# redhat <span class="hljs-number">6.4</span> 写在<span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.confcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.d<span class="hljs-operator">/</span><span class="hljs-number">97</span><span class="hljs-operator">-</span>oracledatabase<span class="hljs-operator">-</span>sysctl.conf<span class="hljs-operator">&lt;&lt;</span>EOFfs.suid_dumpable<span class="hljs-operator">=</span><span class="hljs-number">1</span>fs.aio<span class="hljs-operator">-</span>max<span class="hljs-operator">-</span>nr <span class="hljs-operator">=</span> <span class="hljs-number">1048576</span>fs.file<span class="hljs-operator">-</span>max <span class="hljs-operator">=</span> <span class="hljs-number">6815744</span>kernel.shmall <span class="hljs-operator">=</span> <span class="hljs-number">2097152</span>kernel.shmmax <span class="hljs-operator">=</span> <span class="hljs-number">41947234303</span>kernel.shmmni <span class="hljs-operator">=</span> <span class="hljs-number">4096</span>kernel.sem <span class="hljs-operator">=</span> <span class="hljs-number">250</span> <span class="hljs-number">32000</span> <span class="hljs-number">100</span> <span class="hljs-number">128</span>net.ipv4.ip_local_port_range <span class="hljs-operator">=</span> <span class="hljs-number">9000</span> <span class="hljs-number">65500</span>net.core.rmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>net.core.rmem_max <span class="hljs-operator">=</span> <span class="hljs-number">4194304</span>net.core.wmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>net.core.wmem_max <span class="hljs-operator">=</span> <span class="hljs-number">1048586</span>EOFsysctl <span class="hljs-operator">-</span>p <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.d<span class="hljs-operator">/</span><span class="hljs-number">97</span><span class="hljs-operator">-</span>oracledatabase<span class="hljs-operator">-</span>sysctl.conf    # 使生效</code></pre></div><p>设置oracle用户shell限制</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>security<span class="hljs-operator">/</span>limits.conf<span class="hljs-operator">&lt;&lt;</span>EOForacle soft nproc <span class="hljs-number">2047</span>oracle hard nproc <span class="hljs-number">16384</span>oracle soft nofile <span class="hljs-number">1024</span>oracle hard nofile <span class="hljs-number">65536</span>oracle soft stack <span class="hljs-number">10240</span>oracle hard stack <span class="hljs-number">32768</span>EOFcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>pam.d<span class="hljs-operator">/</span>login<span class="hljs-operator">&lt;&lt;</span>EOFsession    required     pam_limits.soEOF</code></pre></div><h3 id="2-3-设置-dev-shm"><a href="#2-3-设置-dev-shm" class="headerlink" title="2.3 设置/dev/shm"></a>2.3 设置/dev/shm</h3><p>添加红字部分，设置/dev/shm的size</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# vim <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>fstabtmpfs                   <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm                tmpfs   defaults,size<span class="hljs-operator">=</span><span class="hljs-number">2</span>G        <span class="hljs-number">0</span> <span class="hljs-number">0</span>devpts                  <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>pts                devpts  gid<span class="hljs-operator">=</span><span class="hljs-number">5</span>,mode<span class="hljs-operator">=</span><span class="hljs-number">620</span>  <span class="hljs-number">0</span> <span class="hljs-number">0</span>sysfs                   <span class="hljs-operator">/</span>sys                    sysfs   defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span>proc                    <span class="hljs-operator">/</span>proc                   proc    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2               <span class="hljs-operator">/</span>u01                   ext4    defaults        <span class="hljs-number">0</span> <span class="hljs-number">0</span>[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mount <span class="hljs-operator">-</span>o remount <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# df <span class="hljs-operator">-</span>h <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm<span class="hljs-operator">/</span>Filesystem      Size  Used Avail Use<span class="hljs-operator">%</span> Mounted <span class="hljs-keyword">on</span>tmpfs           <span class="hljs-number">2.0</span>G   <span class="hljs-number">72</span>K  <span class="hljs-number">2.0</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm</code></pre></div><h3 id="2-4-创建oracle用户和组"><a href="#2-4-创建oracle用户和组" class="headerlink" title="2.4 创建oracle用户和组"></a>2.4 创建oracle用户和组</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">groupadd oinstallgroupadd dbagroupadd operuseradd  <span class="hljs-operator">-</span>g oinstall <span class="hljs-operator">-</span>G dba,oper oracleecho &quot;oracle&quot;<span class="hljs-operator">|</span>passwd <span class="hljs-comment">--stdin oracle</span></code></pre></div><h3 id="2-5-创建安装目录"><a href="#2-5-创建安装目录" class="headerlink" title="2.5 创建安装目录"></a>2.5 创建安装目录</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">mkdir <span class="hljs-operator">-</span>p  <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraclechown <span class="hljs-operator">-</span>R oracle:oinstall  <span class="hljs-operator">/</span>u01chmod <span class="hljs-operator">-</span>R <span class="hljs-number">775</span>  <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle</code></pre></div><h3 id="2-6-配置oracle用户环境变量"><a href="#2-6-配置oracle用户环境变量" class="headerlink" title="2.6 配置oracle用户环境变量"></a>2.6 配置oracle用户环境变量</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">su <span class="hljs-operator">-</span> oraclecat <span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile  <span class="hljs-operator">&lt;&lt;</span>EOFexport ORACLE_BASE<span class="hljs-operator">=</span><span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracleexport ORACLE_HOME<span class="hljs-operator">=</span><span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>product<span class="hljs-operator">/</span><span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-operator">/</span>dbhome_1export PATH<span class="hljs-operator">=</span>\$ORACLE_HOME<span class="hljs-operator">/</span>bin:\$PATHEOFsource <span class="hljs-operator">~</span><span class="hljs-operator">/</span>.bash_profile</code></pre></div><h3 id="2-7-配置本地yum源"><a href="#2-7-配置本地yum源" class="headerlink" title="2.7 配置本地yum源"></a>2.7 配置本地yum源</h3><p>挂载本地ios镜像</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# df <span class="hljs-operator">-</span>hFilesystem            Size  Used Avail Use<span class="hljs-operator">%</span> Mounted <span class="hljs-keyword">on</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root                       <span class="hljs-number">45</span>G  <span class="hljs-number">3.0</span>G   <span class="hljs-number">40</span>G   <span class="hljs-number">7</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>tmpfs                 <span class="hljs-number">2.0</span>G  <span class="hljs-number">144</span>K  <span class="hljs-number">2.0</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1             <span class="hljs-number">477</span>M   <span class="hljs-number">42</span>M  <span class="hljs-number">411</span>M  <span class="hljs-number">10</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>boot<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2             <span class="hljs-number">885</span>G  <span class="hljs-number">3.3</span>G  <span class="hljs-number">837</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0              <span class="hljs-number">3.7</span>G  <span class="hljs-number">3.7</span>G     <span class="hljs-number">0</span> <span class="hljs-number">100</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>media<span class="hljs-operator">/</span>RHEL<span class="hljs-number">-6.9</span> Server.x86_64[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mkdir <span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdrom[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# mount <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0 <span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdrom<span class="hljs-operator">/</span>mount: block device <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0 <span class="hljs-keyword">is</span> write<span class="hljs-operator">-</span>protected, mounting read<span class="hljs-operator">-</span><span class="hljs-keyword">only</span>[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# df <span class="hljs-operator">-</span>hFilesystem            Size  Used Avail Use<span class="hljs-operator">%</span> Mounted <span class="hljs-keyword">on</span><span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>mapper<span class="hljs-operator">/</span>vg_rhel6<span class="hljs-operator">-</span>lv_root                       <span class="hljs-number">45</span>G  <span class="hljs-number">3.0</span>G   <span class="hljs-number">40</span>G   <span class="hljs-number">7</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>tmpfs                 <span class="hljs-number">2.0</span>G   <span class="hljs-number">76</span>K  <span class="hljs-number">2.0</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>shm<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sda1             <span class="hljs-number">477</span>M   <span class="hljs-number">42</span>M  <span class="hljs-number">411</span>M  <span class="hljs-number">10</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>boot<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb2             <span class="hljs-number">885</span>G  <span class="hljs-number">3.3</span>G  <span class="hljs-number">837</span>G   <span class="hljs-number">1</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0              <span class="hljs-number">3.7</span>G  <span class="hljs-number">3.7</span>G     <span class="hljs-number">0</span> <span class="hljs-number">100</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>media<span class="hljs-operator">/</span>RHEL<span class="hljs-number">-6.9</span> Server.x86_64<span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0              <span class="hljs-number">3.7</span>G  <span class="hljs-number">3.7</span>G     <span class="hljs-number">0</span> <span class="hljs-number">100</span><span class="hljs-operator">%</span> <span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdrom[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>yum.repos.d<span class="hljs-operator">/</span>rhel<span class="hljs-operator">-</span>source.repo<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-operator">&gt;</span> [rhel6<span class="hljs-number">.9</span>]<span class="hljs-operator">&gt;</span> name<span class="hljs-operator">=</span><span class="hljs-keyword">local</span><span class="hljs-operator">&gt;</span> baseurl<span class="hljs-operator">=</span>file:<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdrom<span class="hljs-operator">&gt;</span> enabled<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-operator">&gt;</span> gpgcheck<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-operator">&gt;</span> EOF[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# yum clean <span class="hljs-keyword">all</span>Loaded plugins: product<span class="hljs-operator">-</span>id, refresh<span class="hljs-operator">-</span>packagekit, <span class="hljs-keyword">search</span><span class="hljs-operator">-</span>disabled<span class="hljs-operator">-</span>repos, security, subscription<span class="hljs-operator">-</span>              : managerThis <span class="hljs-keyword">system</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> registered <span class="hljs-keyword">with</span> an entitlement server. You can use subscription<span class="hljs-operator">-</span>manager <span class="hljs-keyword">to</span> register.Cleaning repos: InstallMedia rhel6<span class="hljs-number">.9</span>Cleaning up Everything[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]#[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# yum makecacheLoaded plugins: product<span class="hljs-operator">-</span>id, refresh<span class="hljs-operator">-</span>packagekit, <span class="hljs-keyword">search</span><span class="hljs-operator">-</span>disabled<span class="hljs-operator">-</span>repos, security, subscription<span class="hljs-operator">-</span>              : managerThis <span class="hljs-keyword">system</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> registered <span class="hljs-keyword">with</span> an entitlement server. You can use subscription<span class="hljs-operator">-</span>manager <span class="hljs-keyword">to</span> register.rhel6<span class="hljs-number">.9</span>                                                                  <span class="hljs-operator">|</span> <span class="hljs-number">4.1</span> kB     <span class="hljs-number">00</span>:<span class="hljs-number">00</span> ...rhel6<span class="hljs-number">.9</span><span class="hljs-operator">/</span>group_gz                                                         <span class="hljs-operator">|</span> <span class="hljs-number">216</span> kB     <span class="hljs-number">00</span>:<span class="hljs-number">00</span> ...rhel6<span class="hljs-number">.9</span><span class="hljs-operator">/</span>filelists_db                                                     <span class="hljs-operator">|</span> <span class="hljs-number">3.4</span> MB     <span class="hljs-number">00</span>:<span class="hljs-number">00</span> ...rhel6<span class="hljs-number">.9</span><span class="hljs-operator">/</span>primary_db                                                       <span class="hljs-operator">|</span> <span class="hljs-number">3.1</span> MB     <span class="hljs-number">00</span>:<span class="hljs-number">00</span> ...rhel6<span class="hljs-number">.9</span><span class="hljs-operator">/</span>other_db                                                         <span class="hljs-operator">|</span> <span class="hljs-number">1.3</span> MB     <span class="hljs-number">00</span>:<span class="hljs-number">00</span> ...Metadata Cache Created</code></pre></div><h3 id="2-8-yum安装所需的包"><a href="#2-8-yum安装所需的包" class="headerlink" title="2.8 yum安装所需的包"></a>2.8 yum安装所需的包</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">yum <span class="hljs-operator">-</span>y install libst<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install gcc<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install elfu<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install libaio<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install compat<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install ksh</code></pre></div><h3 id="2-9-关闭NetworkManager和防火墙"><a href="#2-9-关闭NetworkManager和防火墙" class="headerlink" title="2.9 关闭NetworkManager和防火墙"></a>2.9 关闭NetworkManager和防火墙</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">chkconfig NetworkManager offchkconfig iptables off# 检查状态chkconfig NetworkManager <span class="hljs-comment">--list</span>chkconfig iptables <span class="hljs-comment">--list</span></code></pre></div><hr><h2 id="3-安装软件"><a href="#3-安装软件" class="headerlink" title="3 安装软件"></a>3 安装软件</h2><h3 id="3-1-解压介质"><a href="#3-1-解压介质" class="headerlink" title="3.1 解压介质"></a>3.1 解压介质</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">su <span class="hljs-operator">-</span> oracleunzip linuxx64_12201_database.zip</code></pre></div><h3 id="3-2-安装"><a href="#3-2-安装" class="headerlink" title="3.2 安装"></a>3.2 安装</h3><p>宿主机打开 Xmanager - Passive 服务</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">export DISPLAY<span class="hljs-operator">=</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.111</span>:<span class="hljs-number">0.0</span>     # 宿主机ip地址xhost <span class="hljs-operator">+</span></code></pre></div><p>进入软件目录</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">.<span class="hljs-operator">/</span>runInstaller</code></pre></div><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154514.png" alt="image"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154515.png" alt="image_1"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154516.png" alt="image_2"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154517.png" alt="image_3"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154518.png" alt="image_4"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154519.png" alt="image_5"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154520.png" alt="image_6"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154521.png" alt="image_7"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154522.png" alt="image_8"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154523.png" alt="image_9"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154524.png" alt="image_10"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154525.png" alt="image_11"></p><h3 id="3-3-netca配置监听"><a href="#3-3-netca配置监听" class="headerlink" title="3.3 netca配置监听"></a>3.3 netca配置监听</h3><p>netca</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154526.png" alt="image_12"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154527.png" alt="image_13"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154528.png" alt="image_14"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154529.png" alt="image_15"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154530.png" alt="image_16"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154531.png" alt="image_17"></p><h3 id="3-4-dbca建库"><a href="#3-4-dbca建库" class="headerlink" title="3.4 dbca建库"></a>3.4 dbca建库</h3><p>dbca</p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154532.png" alt="image_18"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154533.png" alt="image_19"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154534.png" alt="image_20"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154535.png" alt="image_21"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154536.png" alt="image_22"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154537.png" alt="image_23"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154538.png" alt="image_24"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154539.png" alt="image_25"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154540.png" alt="image_26"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154541.png" alt="image_27"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154542.png" alt="image_28"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154543.png" alt="image_29"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154544.png" alt="image_30"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154545.png" alt="image_31"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154546.png" alt="image_32"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154547.png" alt="image_33"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506154548.png" alt="image_34"></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[oracle<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]$ ps <span class="hljs-operator">-</span>ef<span class="hljs-operator">|</span>grep smonoracle    <span class="hljs-number">13669</span>      <span class="hljs-number">1</span>  <span class="hljs-number">0</span> <span class="hljs-number">01</span>:<span class="hljs-number">36</span> ?        <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ora_smon_zydboracle    <span class="hljs-number">14176</span>   <span class="hljs-number">3561</span>  <span class="hljs-number">0</span> <span class="hljs-number">01</span>:<span class="hljs-number">38</span> pts<span class="hljs-operator">/</span><span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> grep smon</code></pre></div><hr><h2 id="4-其他配置"><a href="#4-其他配置" class="headerlink" title="4 其他配置"></a>4 其他配置</h2><h3 id="4-1-配置ORACLE-SID变量"><a href="#4-1-配置ORACLE-SID变量" class="headerlink" title="4.1 配置ORACLE_SID变量"></a>4.1 配置ORACLE_SID变量</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[oracle<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]$ cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-operator">&gt;</span> export ORACLE_SID<span class="hljs-operator">=</span>zydb<span class="hljs-operator">&gt;</span> export NLS_LANG<span class="hljs-operator">=</span>AMERICAN_AMERICA.AL32UTF8<span class="hljs-operator">&gt;</span> EOF[oracle<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]$ source .bash_profile[oracle<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]$ echo $ORACLE_SIDzydb[oracle<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]$ sqlplus <span class="hljs-operator">/</span> <span class="hljs-keyword">as</span> sysdba<span class="hljs-keyword">SQL</span><span class="hljs-operator">*</span>Plus: <span class="hljs-keyword">Release</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> Production <span class="hljs-keyword">on</span> Fri Apr <span class="hljs-number">9</span> <span class="hljs-number">01</span>:<span class="hljs-number">40</span>:<span class="hljs-number">49</span> <span class="hljs-number">2021</span>Copyright (c) <span class="hljs-number">1982</span>, <span class="hljs-number">2016</span>, Oracle.  <span class="hljs-keyword">All</span> rights reserved.Connected <span class="hljs-keyword">to</span>:Oracle Database <span class="hljs-number">12</span>c Enterprise Edition <span class="hljs-keyword">Release</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> <span class="hljs-operator">-</span> <span class="hljs-number">64</span>bit Production<span class="hljs-keyword">SQL</span><span class="hljs-operator">&gt;</span></code></pre></div><h3 id="4-2-sqlplus配置"><a href="#4-2-sqlplus配置" class="headerlink" title="4.2 sqlplus配置"></a>4.2 sqlplus配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span>$ORACLE_HOME<span class="hljs-operator">/</span>sqlplus<span class="hljs-operator">/</span>admin<span class="hljs-operator">/</span>glogin.sql<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-keyword">set</span> linesize <span class="hljs-number">120</span><span class="hljs-keyword">set</span> pagesize <span class="hljs-number">999</span><span class="hljs-keyword">define</span> _editor<span class="hljs-operator">=</span>vi<span class="hljs-keyword">set</span> sqlprompt &quot;_user&#x27;@&#x27;_connect_identifier&gt; &quot;EOF</code></pre></div><h3 id="4-3-rlwrap配置"><a href="#4-3-rlwrap配置" class="headerlink" title="4.3 rlwrap配置"></a>4.3 rlwrap配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">yum <span class="hljs-operator">-</span>y install readline<span class="hljs-operator">*</span># 上传rlwrap包tar <span class="hljs-operator">-</span>xvf rlwrap<span class="hljs-number">-0.37</span>.tar.gzcd rlwrap<span class="hljs-number">-0.37</span>.<span class="hljs-operator">/</span>configuremake <span class="hljs-operator">&amp;&amp;</span> make installwhich rlwrapcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile<span class="hljs-operator">&lt;&lt;</span>EOFalias sqlplus<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap sqlplus&#x27;</span>alias rman<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap rman&#x27;</span>EOF# oracle用户source <span class="hljs-operator">~</span><span class="hljs-operator">/</span>.bash_profile</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Oracle</category>
      
      <category>12c</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle 11g单实例安装手册</title>
    <link href="/2021/05/06/Oracle-11g%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/"/>
    <url>/2021/05/06/Oracle-11g%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%89%8B%E5%86%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="11g单实例安装手册"><a href="#11g单实例安装手册" class="headerlink" title="11g单实例安装手册"></a>11g单实例安装手册</h1><div class="hljs code-wrapper"><pre><code class="hljs SQL">OS Version：rhel6<span class="hljs-number">.9</span>内存：<span class="hljs-number">4</span>G硬盘：<span class="hljs-number">100</span>G分区： <span class="hljs-operator">/</span>boot <span class="hljs-number">200</span>M; swap <span class="hljs-number">4096</span>M; <span class="hljs-operator">/</span>u01 <span class="hljs-number">50</span>G; <span class="hljs-operator">/</span> <span class="hljs-number">40</span>G处理器：<span class="hljs-number">1</span>cpu，<span class="hljs-number">2</span>核心网卡：hostonly <span class="hljs-operator">/</span> NAT</code></pre></div><hr><h2 id="1-获取介质"><a href="#1-获取介质" class="headerlink" title="1 获取介质"></a>1 获取介质</h2><p><a href="https://support.oracle.com/portal/">下载链接</a></p><hr><h2 id="2-操作系统检查及调整"><a href="#2-操作系统检查及调整" class="headerlink" title="2 操作系统检查及调整"></a>2 操作系统检查及调整</h2><h3 id="2-1-配置本地主机名解析"><a href="#2-1-配置本地主机名解析" class="headerlink" title="2.1 配置本地主机名解析"></a>2.1 配置本地主机名解析</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">[root<span class="hljs-variable">@yzy</span> <span class="hljs-operator">~</span>]# cat <span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysconfig<span class="hljs-operator">/</span>networkNETWORKING<span class="hljs-operator">=</span>yesHOSTNAME<span class="hljs-operator">=</span>yzy       ## 主机名cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>hosts<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.111</span>  yzyEOF</code></pre></div><h3 id="2-2-内核参数调整"><a href="#2-2-内核参数调整" class="headerlink" title="2.2 内核参数调整"></a>2.2 内核参数调整</h3><p>修改一些内核参数，如果已经存在，它会取最高值</p><p>内存 = 4G</p><p>Controls the maximum shared segment size, in bytes</p><p>kernel.shmmax = 4<em>1024</em>1024*1024-1 = 41947234303</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>sysctl.conf<span class="hljs-operator">&lt;&lt;</span>EOFfs.suid_dumpable<span class="hljs-operator">=</span><span class="hljs-number">1</span>fs.aio<span class="hljs-operator">-</span>max<span class="hljs-operator">-</span>nr <span class="hljs-operator">=</span> <span class="hljs-number">1048576</span>fs.file<span class="hljs-operator">-</span>max <span class="hljs-operator">=</span> <span class="hljs-number">6815744</span>kernel.shmall <span class="hljs-operator">=</span> <span class="hljs-number">2097152</span>kernel.shmmax <span class="hljs-operator">=</span> <span class="hljs-number">41947234303</span>kernel.shmmni <span class="hljs-operator">=</span> <span class="hljs-number">4096</span>kernel.sem <span class="hljs-operator">=</span> <span class="hljs-number">250</span> <span class="hljs-number">32000</span> <span class="hljs-number">100</span> <span class="hljs-number">128</span>net.ipv4.ip_local_port_range <span class="hljs-operator">=</span> <span class="hljs-number">9000</span> <span class="hljs-number">65500</span>net.core.rmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>net.core.rmem_max <span class="hljs-operator">=</span> <span class="hljs-number">4194304</span>net.core.wmem_default <span class="hljs-operator">=</span> <span class="hljs-number">262144</span>net.core.wmem_max <span class="hljs-operator">=</span> <span class="hljs-number">1048586</span>EOFsysctl <span class="hljs-operator">-</span>p    # 使生效</code></pre></div><h3 id="2-3-oracle用户shell限制"><a href="#2-3-oracle用户shell限制" class="headerlink" title="2.3 oracle用户shell限制"></a>2.3 oracle用户shell限制</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>security<span class="hljs-operator">/</span>limits.conf<span class="hljs-operator">&lt;&lt;</span>EOForacle soft nproc <span class="hljs-number">2047</span>oracle hard nproc <span class="hljs-number">16384</span>oracle soft nofile <span class="hljs-number">1024</span>oracle hard nofile <span class="hljs-number">65536</span>EOFcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>pam.d<span class="hljs-operator">/</span>login<span class="hljs-operator">&lt;&lt;</span>EOFsession    required     pam_limits.soEOF</code></pre></div><h3 id="2-4-yum源配置及包安装"><a href="#2-4-yum源配置及包安装" class="headerlink" title="2.4 yum源配置及包安装"></a>2.4 yum源配置及包安装</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">mkdir <span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdrommount <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sr0 <span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdromcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>yum.repos.d<span class="hljs-operator">/</span>rhel<span class="hljs-operator">-</span>source.repo<span class="hljs-operator">&lt;&lt;</span>EOF[rhel6<span class="hljs-number">.9</span>]name<span class="hljs-operator">=</span><span class="hljs-keyword">local</span>baseurl<span class="hljs-operator">=</span>file:<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span>mnt<span class="hljs-operator">/</span>cdromenabled<span class="hljs-operator">=</span><span class="hljs-number">1</span>gpgcheck<span class="hljs-operator">=</span><span class="hljs-number">0</span>EOFyum clean <span class="hljs-keyword">all</span>yum makecacheyum <span class="hljs-operator">-</span>y install libst<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install gcc<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install elfu<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install libaio<span class="hljs-operator">*</span>yum <span class="hljs-operator">-</span>y install compat<span class="hljs-operator">*</span></code></pre></div><h3 id="2-5-关闭NetworkManager和防火墙"><a href="#2-5-关闭NetworkManager和防火墙" class="headerlink" title="2.5 关闭NetworkManager和防火墙"></a>2.5 关闭NetworkManager和防火墙</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">chkconfig NetworkManager offchkconfig iptables offchkconfig NetworkManager <span class="hljs-comment">--list</span>chkconfig iptables <span class="hljs-comment">--list</span></code></pre></div><h3 id="2-6-添加oracle用户和组"><a href="#2-6-添加oracle用户和组" class="headerlink" title="2.6 添加oracle用户和组"></a>2.6 添加oracle用户和组</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">groupadd oinstallgroupadd dbagroupadd operuseradd <span class="hljs-operator">-</span>g oinstall <span class="hljs-operator">-</span>G dba,oper oracleecho &quot;oracle&quot;<span class="hljs-operator">|</span>passwd <span class="hljs-comment">--stdin oracle        ## --stdin: 从标准输入管道读入新的密码</span></code></pre></div><h3 id="2-7-创建oracle相关目录"><a href="#2-7-创建oracle相关目录" class="headerlink" title="2.7 创建oracle相关目录"></a>2.7 创建oracle相关目录</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">mkdir <span class="hljs-operator">-</span>p  <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oraclechown <span class="hljs-operator">-</span>R oracle:oinstall  <span class="hljs-operator">/</span>u01chmod <span class="hljs-operator">-</span>R <span class="hljs-number">775</span>  <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle</code></pre></div><h3 id="2-8-配置oracle用户环境变量"><a href="#2-8-配置oracle用户环境变量" class="headerlink" title="2.8 配置oracle用户环境变量"></a>2.8 配置oracle用户环境变量</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat <span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile  <span class="hljs-operator">&lt;&lt;</span>EOFexport ORACLE_BASE<span class="hljs-operator">=</span><span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracleexport ORACLE_HOME<span class="hljs-operator">=</span><span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>product<span class="hljs-operator">/</span><span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-operator">/</span>dbhome_1export PATH<span class="hljs-operator">=</span>\$ORACLE_HOME<span class="hljs-operator">/</span>bin:\$PATHEOF# oracle用户下source <span class="hljs-operator">~</span><span class="hljs-operator">/</span>.bash_profile</code></pre></div><hr><h2 id="3-安装软件"><a href="#3-安装软件" class="headerlink" title="3 安装软件"></a>3 安装软件</h2><h3 id="3-1-解压介质"><a href="#3-1-解压介质" class="headerlink" title="3.1 解压介质"></a>3.1 解压介质</h3><p>以oracle用户解压</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">unzip p13390677_112040_Linux<span class="hljs-operator">-</span>x86<span class="hljs-number">-64</span>_1of7.zipunzip p13390677_112040_Linux<span class="hljs-operator">-</span>x86<span class="hljs-number">-64</span>_2of7.zip</code></pre></div><h3 id="3-2-安装"><a href="#3-2-安装" class="headerlink" title="3.2 安装"></a>3.2 安装</h3><p>宿主机打开 Xmanager - Passive 服务</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">export DISPLAY<span class="hljs-operator">=</span><span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.111</span>:<span class="hljs-number">0.0</span>     # 宿主机ip地址xhost <span class="hljs-operator">+</span></code></pre></div><p>进入软件目录</p><div class="hljs code-wrapper"><pre><code class="hljs SQL">.<span class="hljs-operator">/</span>runInstaller</code></pre></div><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506153349.png" alt="image"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506153402.png" alt="image_1"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151432.png" alt="image_2"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151433.png" alt="image_3"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151434.png" alt="image_4"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151435.png" alt="image_5"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151436.png" alt="image_6"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151437.png" alt="image_7"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151438.png" alt="image_8"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151439.png" alt="image_9"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151440.png" alt="image_10"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151441.png" alt="image_11"></p><p>软件安装完成</p><h3 id="3-3-配置监听"><a href="#3-3-配置监听" class="headerlink" title="3.3 配置监听"></a>3.3 配置监听</h3><p><strong>netca</strong></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151442.png" alt="image_12"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151443.png" alt="image_13"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151444.png" alt="image_14"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151445.png" alt="image_15"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151446.png" alt="image_16"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151447.png" alt="image_17"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151448.png" alt="image_18"></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[oracle<span class="hljs-variable">@rhel6</span> <span class="hljs-operator">~</span>]$ lsnrctl statLSNRCTL <span class="hljs-keyword">for</span> Linux: Version <span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span><span class="hljs-number">.0</span> <span class="hljs-operator">-</span> Production <span class="hljs-keyword">on</span> <span class="hljs-number">09</span><span class="hljs-operator">-</span>APR<span class="hljs-number">-2021</span> <span class="hljs-number">20</span>:<span class="hljs-number">35</span>:<span class="hljs-number">46</span>Copyright (c) <span class="hljs-number">1991</span>, <span class="hljs-number">2013</span>, Oracle.  <span class="hljs-keyword">All</span> rights reserved.Connecting <span class="hljs-keyword">to</span> (DESCRIPTION<span class="hljs-operator">=</span>(ADDRESS<span class="hljs-operator">=</span>(PROTOCOL<span class="hljs-operator">=</span>TCP)(HOST<span class="hljs-operator">=</span>rhel6)(PORT<span class="hljs-operator">=</span><span class="hljs-number">1521</span>)))STATUS <span class="hljs-keyword">of</span> the LISTENER<span class="hljs-comment">------------------------</span>Alias                     LISTENERVersion                   TNSLSNR <span class="hljs-keyword">for</span> Linux: Version <span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span><span class="hljs-number">.0</span> <span class="hljs-operator">-</span> Production<span class="hljs-keyword">Start</span> <span class="hljs-type">Date</span>                <span class="hljs-number">09</span><span class="hljs-operator">-</span>APR<span class="hljs-number">-2021</span> <span class="hljs-number">20</span>:<span class="hljs-number">35</span>:<span class="hljs-number">21</span>Uptime                    <span class="hljs-number">0</span> days <span class="hljs-number">0</span> hr. <span class="hljs-number">0</span> min. <span class="hljs-number">24</span> secTrace Level               offSecurity                  <span class="hljs-keyword">ON</span>: <span class="hljs-keyword">Local</span> OS AuthenticationSNMP                      OFFListener <span class="hljs-keyword">Parameter</span> File   <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>product<span class="hljs-operator">/</span><span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-operator">/</span>dbhome_1<span class="hljs-operator">/</span>network<span class="hljs-operator">/</span>admin<span class="hljs-operator">/</span>listener.oraListener Log File         <span class="hljs-operator">/</span>u01<span class="hljs-operator">/</span>app<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>diag<span class="hljs-operator">/</span>tnslsnr<span class="hljs-operator">/</span>rhel6<span class="hljs-operator">/</span>listener<span class="hljs-operator">/</span>alert<span class="hljs-operator">/</span>log.xmlListening Endpoints Summary...  (DESCRIPTION<span class="hljs-operator">=</span>(ADDRESS<span class="hljs-operator">=</span>(PROTOCOL<span class="hljs-operator">=</span>tcp)(HOST<span class="hljs-operator">=</span>rhel6)(PORT<span class="hljs-operator">=</span><span class="hljs-number">1521</span>)))  (DESCRIPTION<span class="hljs-operator">=</span>(ADDRESS<span class="hljs-operator">=</span>(PROTOCOL<span class="hljs-operator">=</span>ipc)(KEY<span class="hljs-operator">=</span>EXTPROC1521)))The listener supports <span class="hljs-keyword">no</span> servicesThe command completed successfully</code></pre></div><h3 id="3-4-dbca建库"><a href="#3-4-dbca建库" class="headerlink" title="3.4 dbca建库"></a>3.4 dbca建库</h3><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151449.png" alt="image_19"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151450.png" alt="image_20"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151451.png" alt="image_21"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151452.png" alt="image_22"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151453.png" alt="image_23"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151454.png" alt="image_24"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151455.png" alt="image_25"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151456.png" alt="image_26"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151457.png" alt="image_27"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151458.png" alt="image_28"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151459.png" alt="image_29"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151500.png" alt="image_30"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151501.png" alt="image_31"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151502.png" alt="image_32"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151503.png" alt="image_33"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151504.png" alt="image_34"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151505.png" alt="image_35"></p><p><img src="https://gitee.com/coveyzy/imgs/raw/master/img/20210506151424.png" alt="image_36"></p><div class="hljs code-wrapper"><pre><code class="hljs SQL">[oracle<span class="hljs-variable">@rhel6</span> <span class="hljs-operator">~</span>]$ ps <span class="hljs-operator">-</span>ef<span class="hljs-operator">|</span>grep smonoracle    <span class="hljs-number">10201</span>      <span class="hljs-number">1</span>  <span class="hljs-number">0</span> <span class="hljs-number">20</span>:<span class="hljs-number">47</span> ?        <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ora_smon_testdboracle    <span class="hljs-number">13392</span>   <span class="hljs-number">4994</span>  <span class="hljs-number">0</span> <span class="hljs-number">20</span>:<span class="hljs-number">53</span> pts<span class="hljs-operator">/</span><span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> grep smon[oracle<span class="hljs-variable">@rhel6</span> <span class="hljs-operator">~</span>]$ sqlplus <span class="hljs-operator">/</span> <span class="hljs-keyword">as</span> sysdba<span class="hljs-keyword">SQL</span><span class="hljs-operator">*</span>Plus: <span class="hljs-keyword">Release</span> <span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span><span class="hljs-number">.0</span> Production <span class="hljs-keyword">on</span> Fri Apr <span class="hljs-number">9</span> <span class="hljs-number">20</span>:<span class="hljs-number">54</span>:<span class="hljs-number">23</span> <span class="hljs-number">2021</span>Copyright (c) <span class="hljs-number">1982</span>, <span class="hljs-number">2013</span>, Oracle.  <span class="hljs-keyword">All</span> rights reserved.Connected <span class="hljs-keyword">to</span>:Oracle Database <span class="hljs-number">11</span>g Enterprise Edition <span class="hljs-keyword">Release</span> <span class="hljs-number">11.2</span><span class="hljs-number">.0</span><span class="hljs-number">.4</span><span class="hljs-number">.0</span> <span class="hljs-operator">-</span> <span class="hljs-number">64</span>bit Production<span class="hljs-keyword">With</span> the Partitioning, OLAP, Data Mining <span class="hljs-keyword">and</span> <span class="hljs-type">Real</span> Application Testing optionsSYS<span class="hljs-variable">@testdb</span><span class="hljs-operator">&gt;</span></code></pre></div><hr><h2 id="4-其他调整"><a href="#4-其他调整" class="headerlink" title="4 其他调整"></a>4 其他调整</h2><h3 id="4-1-bash-profile配置"><a href="#4-1-bash-profile配置" class="headerlink" title="4.1 .bash_profile配置"></a>4.1 .bash_profile配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile<span class="hljs-operator">&lt;&lt;</span>EOFexport ORACLE_SID<span class="hljs-operator">=</span>zydb    # 与dbca建库时指定的一致，也可在建库之前指定，保持一致即可export NLS_LANG<span class="hljs-operator">=</span>AMERICAN_AMERICA.AL32UTF8EOF</code></pre></div><h3 id="4-2-sqlplus配置"><a href="#4-2-sqlplus配置" class="headerlink" title="4.2 sqlplus配置"></a>4.2 sqlplus配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">cat<span class="hljs-operator">&gt;&gt;</span>$ORACLE_HOME<span class="hljs-operator">/</span>sqlplus<span class="hljs-operator">/</span>admin<span class="hljs-operator">/</span>glogin.sql<span class="hljs-operator">&lt;&lt;</span>EOF<span class="hljs-keyword">set</span> linesize <span class="hljs-number">120</span><span class="hljs-keyword">set</span> pagesize <span class="hljs-number">999</span><span class="hljs-keyword">define</span> _editor<span class="hljs-operator">=</span>vi<span class="hljs-keyword">set</span> sqlprompt &quot;_user&#x27;@&#x27;_connect_identifier&gt; &quot;EOF</code></pre></div><h3 id="4-3-rlwrap配置"><a href="#4-3-rlwrap配置" class="headerlink" title="4.3 rlwrap配置"></a>4.3 rlwrap配置</h3><div class="hljs code-wrapper"><pre><code class="hljs SQL">yum <span class="hljs-operator">-</span>y install readline<span class="hljs-operator">*</span># 上传rlwrap包tar <span class="hljs-operator">-</span>xvf rlwrap<span class="hljs-number">-0.37</span>.tar.gzcd rlwrap<span class="hljs-number">-0.37</span>.<span class="hljs-operator">/</span>configuremake <span class="hljs-operator">&amp;&amp;</span> make installwhich rlwrapcat<span class="hljs-operator">&gt;&gt;</span><span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>oracle<span class="hljs-operator">/</span>.bash_profile<span class="hljs-operator">&lt;&lt;</span>EOFalias sqlplus<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap sqlplus&#x27;</span>alias rman<span class="hljs-operator">=</span><span class="hljs-string">&#x27;/usr/local/bin/rlwrap rman&#x27;</span>EOF# oracle用户source <span class="hljs-operator">~</span><span class="hljs-operator">/</span>.bash_profile</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Oracle</category>
      
      <category>11g</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>about</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>###this is the test about</p>]]></content>
    
  </entry>
  
  
  
</search>
